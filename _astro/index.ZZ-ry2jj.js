import{c as x,g as Kt,b as uf}from"./index.hfxd0CuE.js";import{c7 as lf,cV as hf,cY as fi,cZ as ff}from"./Login.jzdBbfpg.js";import{g as df,c as pf,s as gf,j as bf}from"./index.-lE5pLPq.js";import{b as mf}from"./browser.7ACNNLw6.js";function vf(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var po={},on={},di={};Object.defineProperty(di,"__esModule",{value:!0});di.walletLogo=void 0;const yf=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};di.walletLogo=yf;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.LINK_API_URL=void 0;pi.LINK_API_URL="https://www.walletlink.org";var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.ScopedLocalStorage=void 0;class _f{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}gi.ScopedLocalStorage=_f;var vr={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});const wf=lf;function Ea(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Sf(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Ef=class extends wf.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Ea(s,this,r);else{const o=s.length,a=Sf(s);for(let c=0;c<o;c+=1)Ea(a[c],this,r)}return!0}};Xt.default=Ef;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.EVENTS=void 0;Nr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var dn={},go={},At={},Cf=an;an.default=an;an.stable=Su;an.stableStringify=Su;var ti="[...]",_u="[Circular]",Gt=[],Ut=[];function wu(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function an(t,e,r,n){typeof n>"u"&&(n=wu()),Ws(t,"",0,[],void 0,0,n);var i;try{Ut.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Eu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Gt.length!==0;){var s=Gt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function dr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Gt.push([n,r,e,i])):Ut.push([e,r,t]):(n[r]=t,Gt.push([n,r,e]))}function Ws(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){dr(_u,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){dr(ti,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){dr(ti,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ws(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];Ws(t[u],u,a,n,t,s,o)}}n.pop()}}function If(t,e){return t<e?-1:t>e?1:0}function Su(t,e,r,n){typeof n>"u"&&(n=wu());var i=Us(t,"",0,[],void 0,0,n)||t,s;try{Ut.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Eu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Gt.length!==0;){var o=Gt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Us(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){dr(_u,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){dr(ti,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){dr(ti,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Us(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(If);for(a=0;a<u.length;a++){var h=u[a];Us(t[h],h,a,n,t,s,o),c[h]=t[h]}if(typeof i<"u")Gt.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Eu(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Ut.length>0)for(var n=0;n<Ut.length;n++){var i=Ut[n];if(i[1]===e&&i[0]===r){r=i[2],Ut.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(At,"__esModule",{value:!0});At.EthereumProviderError=At.EthereumRpcError=void 0;const Rf=Cf;class Cu extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Rf.default(this.serialize(),Mf,2)}}At.EthereumRpcError=Cu;class xf extends Cu{constructor(e,r,n){if(!kf(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}At.EthereumProviderError=xf;function kf(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Mf(t,e){if(e!=="[Circular]")return e}var bo={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.errorValues=Tt.errorCodes=void 0;Tt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Tt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Tt,r=At,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const p=f.toString();if(l(e.errorValues,p))return e.errorValues[p].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||u(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:p=!1}={}){var E,w;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const b={};if(f&&typeof f=="object"&&!Array.isArray(f)&&l(f,"code")&&a(f.code)){const _=f;b.code=_.code,_.message&&typeof _.message=="string"?(b.message=_.message,l(_,"data")&&(b.data=_.data)):(b.message=o(b.code),b.data={originalError:h(f)})}else{b.code=d.code;const _=(E=f)===null||E===void 0?void 0:E.message;b.message=_&&typeof _=="string"?_:d.message,b.data={originalError:h(f)}}const m=(w=f)===null||w===void 0?void 0:w.stack;return p&&f&&m&&typeof m=="string"&&(b.stack=m),b}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function h(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function l(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(bo);var bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.ethErrors=void 0;const mo=At,Iu=bo,we=Tt;bi.ethErrors={rpc:{parse:t=>De(we.errorCodes.rpc.parse,t),invalidRequest:t=>De(we.errorCodes.rpc.invalidRequest,t),invalidParams:t=>De(we.errorCodes.rpc.invalidParams,t),methodNotFound:t=>De(we.errorCodes.rpc.methodNotFound,t),internal:t=>De(we.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return De(e,t)},invalidInput:t=>De(we.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>De(we.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>De(we.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>De(we.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>De(we.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>De(we.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ur(we.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ur(we.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ur(we.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ur(we.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ur(we.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new mo.EthereumProviderError(e,r,n)}}};function De(t,e){const[r,n]=Ru(e);return new mo.EthereumRpcError(t,r||Iu.getMessageFromCode(t),n)}function Ur(t,e){const[r,n]=Ru(e);return new mo.EthereumProviderError(t,r||Iu.getMessageFromCode(t),n)}function Ru(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=At;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=bo;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=bi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Tt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(go);var K={},mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(mi);Object.defineProperty(K,"__esModule",{value:!0});K.EthereumAddressFromSignedMessageResponse=K.SubmitEthereumTransactionResponse=K.SignEthereumTransactionResponse=K.SignEthereumMessageResponse=K.isRequestEthereumAccountsResponse=K.SelectProviderResponse=K.WatchAssetReponse=K.RequestEthereumAccountsResponse=K.SwitchEthereumChainResponse=K.AddEthereumChainResponse=K.isErrorResponse=void 0;const ft=mi;function Af(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}K.isErrorResponse=Af;function Tf(t){return{method:ft.Web3Method.addEthereumChain,result:t}}K.AddEthereumChainResponse=Tf;function Nf(t){return{method:ft.Web3Method.switchEthereumChain,result:t}}K.SwitchEthereumChainResponse=Nf;function Of(t){return{method:ft.Web3Method.requestEthereumAccounts,result:t}}K.RequestEthereumAccountsResponse=Of;function Lf(t){return{method:ft.Web3Method.watchAsset,result:t}}K.WatchAssetReponse=Lf;function $f(t){return{method:ft.Web3Method.selectProvider,result:t}}K.SelectProviderResponse=$f;function Pf(t){return t&&t.method===ft.Web3Method.requestEthereumAccounts}K.isRequestEthereumAccountsResponse=Pf;function Df(t){return{method:ft.Web3Method.signEthereumMessage,result:t}}K.SignEthereumMessageResponse=Df;function jf(t){return{method:ft.Web3Method.signEthereumTransaction,result:t}}K.SignEthereumTransactionResponse=jf;function Bf(t){return{method:ft.Web3Method.submitEthereumTransaction,result:t}}K.SubmitEthereumTransactionResponse=Bf;function Ff(t){return{method:ft.Web3Method.ethereumAddressFromSignedMessage,result:t}}K.EthereumAddressFromSignedMessageResponse=Ff;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.LIB_VERSION=void 0;Or.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=go,r=K,n=Or;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(h){return h!==void 0?(0,e.getMessageFromCode)(h):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(h="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${h}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(h,l){const f=(0,e.serializeError)(o(h),{shouldIncludeStack:!0}),d=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");d.searchParams.set("version",n.LIB_VERSION),d.searchParams.set("code",f.code.toString());const p=a(f.data,l);return p&&d.searchParams.set("method",p),d.searchParams.set("message",f.message),Object.assign(Object.assign({},f),{docUrl:d.href})}t.serializeError=s;function o(h){return typeof h=="string"?{message:h,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(h)?Object.assign(Object.assign({},h),{message:h.errorMessage,code:h.errorCode,data:{method:h.method,result:h.result}}):h}function a(h,l){var f;const d=(f=h)===null||f===void 0?void 0:f.method;if(d)return d;if(l!==void 0)return typeof l=="string"?l:Array.isArray(l)?l.length>0?l[0].method:void 0:l.method}function c(h){var l;if(typeof h=="number")return h;if(u(h))return(l=h.code)!==null&&l!==void 0?l:h.errorCode}t.getErrorCode=c;function u(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}})(dn);var Lr={},I={},vo=typeof Map=="function"&&Map.prototype,hs=Object.getOwnPropertyDescriptor&&vo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ri=vo&&hs&&typeof hs.get=="function"?hs.get:null,Ca=vo&&Map.prototype.forEach,yo=typeof Set=="function"&&Set.prototype,fs=Object.getOwnPropertyDescriptor&&yo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ni=yo&&fs&&typeof fs.get=="function"?fs.get:null,Ia=yo&&Set.prototype.forEach,Vf=typeof WeakMap=="function"&&WeakMap.prototype,Yr=Vf?WeakMap.prototype.has:null,Hf=typeof WeakSet=="function"&&WeakSet.prototype,Kr=Hf?WeakSet.prototype.has:null,Wf=typeof WeakRef=="function"&&WeakRef.prototype,Ra=Wf?WeakRef.prototype.deref:null,Uf=Boolean.prototype.valueOf,zf=Object.prototype.toString,qf=Function.prototype.toString,Gf=String.prototype.match,_o=String.prototype.slice,kt=String.prototype.replace,Jf=String.prototype.toUpperCase,xa=String.prototype.toLowerCase,xu=RegExp.prototype.test,ka=Array.prototype.concat,ot=Array.prototype.join,Qf=Array.prototype.slice,Ma=Math.floor,zs=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ds=Object.getOwnPropertySymbols,qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,yr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ce=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===yr||!0)?Symbol.toStringTag:null,ku=Object.prototype.propertyIsEnumerable,Aa=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Ta(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xu.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Ma(-t):Ma(t);if(n!==t){var i=String(n),s=_o.call(e,i.length+1);return kt.call(i,r,"$&_")+"."+kt.call(kt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kt.call(e,r,"$&_")}var Gs=hf,Na=Gs.custom,Oa=Au(Na)?Na:null,Zf=function t(e,r,n,i){var s=r||{};if(It(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(It(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=It(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(It(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(It(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Nu(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Ta(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Ta(e,u):u}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Js(e)?"[Array]":"[Object]";var l=pd(s,n);if(typeof i>"u")i=[];else if(Tu(i,e)>=0)return"[Circular]";function f(y,v,M){if(v&&(i=Qf.call(i),i.push(v)),M){var C={depth:s.depth};return It(s,"quoteStyle")&&(C.quoteStyle=s.quoteStyle),t(y,C,n+1,i)}return t(y,s,n+1,i)}if(typeof e=="function"&&!La(e)){var d=sd(e),p=Ln(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+ot.call(p,", ")+" }":"")}if(Au(e)){var E=yr?kt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qs.call(e);return typeof e=="object"&&!yr?zr(E):E}if(hd(e)){for(var w="<"+xa.call(String(e.nodeName)),b=e.attributes||[],m=0;m<b.length;m++)w+=" "+b[m].name+"="+Mu(Yf(b[m].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+xa.call(String(e.nodeName))+">",w}if(Js(e)){if(e.length===0)return"[]";var _=Ln(e,f);return l&&!dd(_)?"["+Qs(_,l)+"]":"[ "+ot.call(_,", ")+" ]"}if(Xf(e)){var A=Ln(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!ku.call(e,"cause")?"{ ["+String(e)+"] "+ot.call(ka.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ot.call(A,", ")+" }"}if(typeof e=="object"&&o){if(Oa&&typeof e[Oa]=="function"&&Gs)return Gs(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(od(e)){var S=[];return Ca&&Ca.call(e,function(y,v){S.push(f(v,e,!0)+" => "+f(y,e))}),$a("Map",ri.call(e),S,l)}if(ud(e)){var $=[];return Ia&&Ia.call(e,function(y){$.push(f(y,e))}),$a("Set",ni.call(e),$,l)}if(ad(e))return ps("WeakMap");if(ld(e))return ps("WeakSet");if(cd(e))return ps("WeakRef");if(td(e))return zr(f(Number(e)));if(nd(e))return zr(f(zs.call(e)));if(rd(e))return zr(Uf.call(e));if(ed(e))return zr(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===x)return"{ [object globalThis] }";if(!Kf(e)&&!La(e)){var U=Ln(e,f),ie=Aa?Aa(e)===Object.prototype:e instanceof Object||e.constructor===Object,O=e instanceof Object?"":"null prototype",F=!ie&&Ce&&Object(e)===e&&Ce in e?_o.call($t(e),8,-1):O?"Object":"",ue=ie||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=ue+(F||O?"["+ot.call(ka.call([],F||[],O||[]),": ")+"] ":"");return U.length===0?z+"{}":l?z+"{"+Qs(U,l)+"}":z+"{ "+ot.call(U,", ")+" }"}return String(e)};function Mu(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Yf(t){return kt.call(String(t),/"/g,"&quot;")}function Js(t){return $t(t)==="[object Array]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Kf(t){return $t(t)==="[object Date]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function La(t){return $t(t)==="[object RegExp]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Xf(t){return $t(t)==="[object Error]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function ed(t){return $t(t)==="[object String]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function td(t){return $t(t)==="[object Number]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function rd(t){return $t(t)==="[object Boolean]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Au(t){if(yr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qs)return!1;try{return qs.call(t),!0}catch{}return!1}function nd(t){if(!t||typeof t!="object"||!zs)return!1;try{return zs.call(t),!0}catch{}return!1}var id=Object.prototype.hasOwnProperty||function(t){return t in this};function It(t,e){return id.call(t,e)}function $t(t){return zf.call(t)}function sd(t){if(t.name)return t.name;var e=Gf.call(qf.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Tu(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function od(t){if(!ri||!t||typeof t!="object")return!1;try{ri.call(t);try{ni.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ad(t){if(!Yr||!t||typeof t!="object")return!1;try{Yr.call(t,Yr);try{Kr.call(t,Kr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function cd(t){if(!Ra||!t||typeof t!="object")return!1;try{return Ra.call(t),!0}catch{}return!1}function ud(t){if(!ni||!t||typeof t!="object")return!1;try{ni.call(t);try{ri.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function ld(t){if(!Kr||!t||typeof t!="object")return!1;try{Kr.call(t,Kr);try{Yr.call(t,Yr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function hd(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Nu(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Nu(_o.call(t,0,e.maxStringLength),e)+n}var i=kt.call(kt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,fd);return Mu(i,"single",e)}function fd(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Jf.call(e.toString(16))}function zr(t){return"Object("+t+")"}function ps(t){return t+" { ? }"}function $a(t,e,r,n){var i=n?Qs(r,n):ot.call(r,", ");return t+" ("+e+") {"+i+"}"}function dd(t){for(var e=0;e<t.length;e++)if(Tu(t[e],`
`)>=0)return!1;return!0}function pd(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ot.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ot.call(Array(e+1),r)}}function Qs(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ot.call(t,","+r)+`
`+e.prev}function Ln(t,e){var r=Js(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=It(t,i)?e(t[i],t):""}var s=typeof ds=="function"?ds(t):[],o;if(yr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)It(t,c)&&(r&&String(Number(c))===c&&c<t.length||yr&&o["$"+c]instanceof Symbol||(xu.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof ds=="function")for(var u=0;u<s.length;u++)ku.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var wo=df,$r=pf,gd=Zf,bd=wo("%TypeError%"),$n=wo("%WeakMap%",!0),Pn=wo("%Map%",!0),md=$r("WeakMap.prototype.get",!0),vd=$r("WeakMap.prototype.set",!0),yd=$r("WeakMap.prototype.has",!0),_d=$r("Map.prototype.get",!0),wd=$r("Map.prototype.set",!0),Sd=$r("Map.prototype.has",!0),So=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Ed=function(t,e){var r=So(t,e);return r&&r.value},Cd=function(t,e,r){var n=So(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Id=function(t,e){return!!So(t,e)},Rd=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new bd("Side channel does not contain "+gd(s))},get:function(s){if($n&&s&&(typeof s=="object"||typeof s=="function")){if(e)return md(e,s)}else if(Pn){if(r)return _d(r,s)}else if(n)return Ed(n,s)},has:function(s){if($n&&s&&(typeof s=="object"||typeof s=="function")){if(e)return yd(e,s)}else if(Pn){if(r)return Sd(r,s)}else if(n)return Id(n,s);return!1},set:function(s,o){$n&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new $n),vd(e,s,o)):Pn?(r||(r=new Pn),wd(r,s,o)):(n||(n={key:{},next:null}),Cd(n,s,o))}};return i},xd=String.prototype.replace,kd=/%20/g,gs={RFC1738:"RFC1738",RFC3986:"RFC3986"},Eo={default:gs.RFC3986,formatters:{RFC1738:function(t){return xd.call(t,kd,"+")},RFC3986:function(t){return String(t)}},RFC1738:gs.RFC1738,RFC3986:gs.RFC3986},Md=Eo,bs=Object.prototype.hasOwnProperty,Bt=Array.isArray,et=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ad=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Bt(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Ou=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Td=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Bt(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!bs.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Bt(e)&&!Bt(r)&&(i=Ou(e,n)),Bt(e)&&Bt(r)?(r.forEach(function(s,o){if(bs.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return bs.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Nd=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Od=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ld=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Md.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+et[u];continue}if(u<2048){a=a+(et[192|u>>6]+et[128|u&63]);continue}if(u<55296||u>=57344){a=a+(et[224|u>>12]+et[128|u>>6&63]+et[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=et[240|u>>18]+et[128|u>>12&63]+et[128|u>>6&63]+et[128|u&63]}return a},$d=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return Ad(r),e},Pd=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Dd=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},jd=function(e,r){return[].concat(e,r)},Bd=function(e,r){if(Bt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Lu={arrayToObject:Ou,assign:Nd,combine:jd,compact:$d,decode:Od,encode:Ld,isBuffer:Dd,isRegExp:Pd,maybeMap:Bd,merge:Td},$u=Rd,Zn=Lu,Xr=Eo,Fd=Object.prototype.hasOwnProperty,Pa={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},gt=Array.isArray,Vd=Array.prototype.push,Pu=function(t,e){Vd.apply(t,gt(e)?e:[e])},Hd=Date.prototype.toISOString,Da=Xr.default,Ee={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Zn.encode,encodeValuesOnly:!1,format:Da,formatter:Xr.formatters[Da],indices:!1,serializeDate:function(e){return Hd.call(e)},skipNulls:!1,strictNullHandling:!1},Wd=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ms={},Ud=function t(e,r,n,i,s,o,a,c,u,h,l,f,d,p,E,w){for(var b=e,m=w,_=0,A=!1;(m=m.get(ms))!==void 0&&!A;){var S=m.get(e);if(_+=1,typeof S<"u"){if(S===_)throw new RangeError("Cyclic object value");A=!0}typeof m.get(ms)>"u"&&(_=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=l(b):n==="comma"&&gt(b)&&(b=Zn.maybeMap(b,function(C){return C instanceof Date?l(C):C})),b===null){if(s)return a&&!p?a(r,Ee.encoder,E,"key",f):r;b=""}if(Wd(b)||Zn.isBuffer(b)){if(a){var $=p?r:a(r,Ee.encoder,E,"key",f);return[d($)+"="+d(a(b,Ee.encoder,E,"value",f))]}return[d(r)+"="+d(String(b))]}var U=[];if(typeof b>"u")return U;var ie;if(n==="comma"&&gt(b))p&&a&&(b=Zn.maybeMap(b,a)),ie=[{value:b.length>0?b.join(",")||null:void 0}];else if(gt(c))ie=c;else{var O=Object.keys(b);ie=u?O.sort(u):O}for(var F=i&&gt(b)&&b.length===1?r+"[]":r,ue=0;ue<ie.length;++ue){var z=ie[ue],y=typeof z=="object"&&typeof z.value<"u"?z.value:b[z];if(!(o&&y===null)){var v=gt(b)?typeof n=="function"?n(F,z):F:F+(h?"."+z:"["+z+"]");w.set(e,_);var M=$u();M.set(ms,w),Pu(U,t(y,v,n,i,s,o,n==="comma"&&p&&gt(b)?null:a,c,u,h,l,f,d,p,E,M))}}return U},zd=function(e){if(!e)return Ee;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ee.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xr.default;if(typeof e.format<"u"){if(!Fd.call(Xr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Xr.formatters[n],s=Ee.filter;return(typeof e.filter=="function"||gt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ee.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ee.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ee.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ee.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ee.encode,encoder:typeof e.encoder=="function"?e.encoder:Ee.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ee.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ee.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ee.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ee.strictNullHandling}},qd=function(t,e){var r=t,n=zd(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):gt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Pa?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Pa[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=$u(),l=0;l<i.length;++l){var f=i[l];n.skipNulls&&r[f]===null||Pu(o,Ud(r[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},_r=Lu,Zs=Object.prototype.hasOwnProperty,Gd=Array.isArray,pe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Jd=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Du=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Qd="utf8=%26%2310003%3B",Zd="utf8=%E2%9C%93",Yd=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Zd?u="utf-8":o[c]===Qd&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var h=o[c],l=h.indexOf("]="),f=l===-1?h.indexOf("="):l+1,d,p;f===-1?(d=r.decoder(h,pe.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,f),pe.decoder,u,"key"),p=_r.maybeMap(Du(h.slice(f+1),r),function(E){return r.decoder(E,pe.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=Jd(p)),h.indexOf("[]=")>-1&&(p=Gd(p)?[p]:p),Zs.call(n,d)?n[d]=_r.combine(n[d],p):n[d]=p}return n},Kd=function(t,e,r,n){for(var i=n?e:Du(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Xd=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,h=[];if(u){if(!n.plainObjects&&Zs.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var l=0;n.depth>0&&(c=a.exec(s))!==null&&l<n.depth;){if(l+=1,!n.plainObjects&&Zs.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),Kd(h,r,n,i)}},ep=function(e){if(!e)return pe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?pe.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?pe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:pe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:pe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:pe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:pe.comma,decoder:typeof e.decoder=="function"?e.decoder:pe.decoder,delimiter:typeof e.delimiter=="string"||_r.isRegExp(e.delimiter)?e.delimiter:pe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:pe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:pe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:pe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:pe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pe.strictNullHandling}},tp=function(t,e){var r=ep(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Yd(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Xd(a,n[a],r,typeof t=="string");i=_r.merge(i,c,r)}return r.allowSparse===!0?i:_r.compact(i)},rp=qd,np=tp,ip=Eo,sp={formats:ip,parse:np,stringify:rp},pn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(pn);var op=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I,"__esModule",{value:!0});I.isInIFrame=I.createQrUrl=I.getFavicon=I.range=I.isBigNumber=I.ensureParsedJSONObject=I.ensureBN=I.ensureRegExpString=I.ensureIntNumber=I.ensureBuffer=I.ensureAddressString=I.ensureEvenLengthHexString=I.ensureHexString=I.isHexString=I.prepend0x=I.strip0x=I.has0xPrefix=I.hexStringFromIntNumber=I.intNumberFromHexString=I.bigIntStringFromBN=I.hexStringFromBuffer=I.hexStringToUint8Array=I.uint8ArrayToHex=I.randomBytesHex=void 0;const Rt=op(fi),ap=sp,er=dn,We=pn,ju=/^[0-9]*$/,Bu=/^[a-f0-9]*$/;function cp(t){return Fu(crypto.getRandomValues(new Uint8Array(t)))}I.randomBytesHex=cp;function Fu(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}I.uint8ArrayToHex=Fu;function up(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}I.hexStringToUint8Array=up;function lp(t,e=!1){const r=t.toString("hex");return(0,We.HexString)(e?"0x"+r:r)}I.hexStringFromBuffer=lp;function hp(t){return(0,We.BigIntString)(t.toString(10))}I.bigIntStringFromBN=hp;function fp(t){return(0,We.IntNumber)(new Rt.default(bn(t,!1),16).toNumber())}I.intNumberFromHexString=fp;function dp(t){return(0,We.HexString)("0x"+new Rt.default(t).toString(16))}I.hexStringFromIntNumber=dp;function Co(t){return t.startsWith("0x")||t.startsWith("0X")}I.has0xPrefix=Co;function vi(t){return Co(t)?t.slice(2):t}I.strip0x=vi;function Vu(t){return Co(t)?"0x"+t.slice(2):"0x"+t}I.prepend0x=Vu;function gn(t){if(typeof t!="string")return!1;const e=vi(t).toLowerCase();return Bu.test(e)}I.isHexString=gn;function Hu(t,e=!1){if(typeof t=="string"){const r=vi(t).toLowerCase();if(Bu.test(r))return(0,We.HexString)(e?"0x"+r:r)}throw er.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}I.ensureHexString=Hu;function bn(t,e=!1){let r=Hu(t,!1);return r.length%2===1&&(r=(0,We.HexString)("0"+r)),e?(0,We.HexString)("0x"+r):r}I.ensureEvenLengthHexString=bn;function pp(t){if(typeof t=="string"){const e=vi(t).toLowerCase();if(gn(e)&&e.length===40)return(0,We.AddressString)(Vu(e))}throw er.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}I.ensureAddressString=pp;function gp(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(gn(t)){const e=bn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw er.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}I.ensureBuffer=gp;function Wu(t){if(typeof t=="number"&&Number.isInteger(t))return(0,We.IntNumber)(t);if(typeof t=="string"){if(ju.test(t))return(0,We.IntNumber)(Number(t));if(gn(t))return(0,We.IntNumber)(new Rt.default(bn(t,!1),16).toNumber())}throw er.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}I.ensureIntNumber=Wu;function bp(t){if(t instanceof RegExp)return(0,We.RegExpString)(t.toString());throw er.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}I.ensureRegExpString=bp;function mp(t){if(t!==null&&(Rt.default.isBN(t)||Uu(t)))return new Rt.default(t.toString(10),10);if(typeof t=="number")return new Rt.default(Wu(t));if(typeof t=="string"){if(ju.test(t))return new Rt.default(t,10);if(gn(t))return new Rt.default(bn(t,!1),16)}throw er.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}I.ensureBN=mp;function vp(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw er.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}I.ensureParsedJSONObject=vp;function Uu(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}I.isBigNumber=Uu;function yp(t,e){return Array.from({length:e-t},(r,n)=>t+n)}I.range=yp;function _p(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}I.getFavicon=_p;function wp(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,ap.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}I.createQrUrl=wp;function Sp(){try{return window.frameElement!==null}catch{return!1}}I.isInIFrame=Sp;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.Session=void 0;const ja=gf,Ba=I,Fa="session:id",Va="session:secret",Ha="session:linked";class Io{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Ba.randomBytesHex)(16),this._secret=n||(0,Ba.randomBytesHex)(32),this._key=new ja.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Fa),n=e.getItem(Ha),i=e.getItem(Va);return r&&i?new Io(e,r,i,n==="1"):null}static hash(e){return new ja.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Fa,this._id),this._storage.setItem(Va,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Ha,this._linked?"1":"0")}}Lr.Session=Io;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.WalletSDKRelayAbstract=Ye.APP_VERSION_KEY=Ye.LOCAL_STORAGE_ADDRESSES_KEY=Ye.WALLET_USER_NAME_KEY=void 0;const Wa=dn;Ye.WALLET_USER_NAME_KEY="walletUsername";Ye.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ye.APP_VERSION_KEY="AppVersion";class Ep{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Wa.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Wa.serializeError)(s,e.method);return i})}}Ye.WalletSDKRelayAbstract=Ep;const Cp=bf,Ip=fi;function zu(t){return Buffer.allocUnsafe(t).fill(0)}function qu(t,e,r){const n=zu(e);return t=yi(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Rp(t,e){return qu(t,e,!0)}function yi(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Gu(t)?t=Buffer.from(Mp(Ju(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Ip.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function xp(t){return t=yi(t),"0x"+t.toString("hex")}function kp(t,e){return t=yi(t),e||(e=256),Cp("keccak"+e).update(t).digest()}function Mp(t){return t.length%2?"0"+t:t}function Gu(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Ju(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Qu={zeros:zu,setLength:qu,setLengthRight:Rp,isHexString:Gu,stripHexPrefix:Ju,toBuffer:yi,bufferToHex:xp,keccak:kp};const Jt=Qu,zt=fi;function Zu(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function pr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ua(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Yu(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ft(t){var e=typeof t;if(e==="string")return Jt.isHexString(t)?new zt(Jt.stripHexPrefix(t),16):new zt(t,10);if(e==="number")return new zt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function it(t,e){var r,n,i,s;if(t==="address")return it("uint160",Ft(e));if(t==="bool")return it("uint8",e?1:0);if(t==="string")return it("bytes",new Buffer(e,"utf8"));if(Tp(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Yu(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(it(t,e[s]));if(r==="dynamic"){var o=it("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([it("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Jt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=pr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Jt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=pr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ft(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=pr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ft(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ua(t),n=Ft(e),n<0)throw new Error("Supplied ufixed is negative");return it("uint256",n.mul(new zt(2).pow(new zt(r[1]))))}else if(t.startsWith("fixed"))return r=Ua(t),it("int256",Ft(e).mul(new zt(2).pow(new zt(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Ap(t){return t==="string"||t==="bytes"||Yu(t)==="dynamic"}function Tp(t){return t.lastIndexOf("]")===t.length-1}function Np(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Zu(t[s]),a=e[s],c=it(o,a);Ap(o)?(r.push(it("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Ku(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Zu(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Jt.setLength(a,20));else if(o.startsWith("bytes")){if(r=pr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Jt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=pr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ft(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=pr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ft(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Op(t,e){return Jt.keccak(Ku(t,e))}var Lp={rawEncode:Np,solidityPack:Ku,soliditySHA3:Op};const Je=Qu,en=Lp,Xu={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},vs={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Je.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Je.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",Je.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),l=u.map(f=>o(a,h,f));return["bytes32",Je.keccak(en.rawEncode(l.map(([f])=>f),l.map(([,f])=>f)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Je.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Je.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Je.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return en.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Je.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Je.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Xu.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Je.keccak(Buffer.concat(n))}};var $p={TYPED_MESSAGE_SCHEMA:Xu,TypedDataUtils:vs,hashForSignTypedDataLegacy:function(t){return Pp(t.data)},hashForSignTypedData_v3:function(t){return vs.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return vs.hash(t.data)}};function Pp(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Je.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return en.soliditySHA3(["bytes32","bytes32"],[en.soliditySHA3(new Array(t.length).fill("string"),i),en.soliditySHA3(n,r)])}var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.filterFromParam=wr.FilterPolyfill=void 0;const lr=pn,Ie=I,Dp=5*60*1e3,Vt={jsonrpc:"2.0",id:0};class jp{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,lr.IntNumber)(1),this.provider=e}async newFilter(e){const r=el(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Ie.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ie.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ie.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Ie.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Ie.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Dn())}async getFilterLogs(e){const r=(0,Ie.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_getLogs",params:[za(n)]})):Dn()}makeFilterId(){return(0,lr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Dn();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return jn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_getLogs",params:[za(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Ie.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,lr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Dn();const n=await this.getCurrentBlockHeight();if(r>n)return jn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Ie.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,lr.IntNumber)(o))))).filter(o=>!!o),s=(0,lr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Vt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(jn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Dp);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_blockNumber",params:[]}));return(0,Ie.intNumberFromHexString)((0,Ie.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_getBlockByNumber",params:[(0,Ie.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Ie.ensureHexString)(r.result.hash):null}}wr.FilterPolyfill=jp;function el(t){return{fromBlock:qa(t.fromBlock),toBlock:qa(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}wr.filterFromParam=el;function za(t){const e={fromBlock:Ga(t.fromBlock),toBlock:Ga(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function qa(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,lr.IntNumber)(0);if((0,Ie.isHexString)(t))return(0,Ie.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Ga(t){return t==="latest"?t:(0,Ie.hexStringFromIntNumber)(t)}function Dn(){return Object.assign(Object.assign({},Vt),{error:{code:-32e3,message:"filter not found"}})}function jn(){return Object.assign(Object.assign({},Vt),{result:[]})}var tl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(tl);var _i={},rl={},wi={},Ro=Bp;function Bp(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Ja=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Fp=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Ja(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Ja(s,e):s}return n},mn={},Vp=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});mn.BaseBlockTracker=void 0;const Hp=Vp(Xt),Wp=1e3,Up=(t,e)=>t+e,Qa=["sync","latest"];class zp extends Hp.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Wp,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Qa.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Qa.map(e=>this.listenerCount(e)).reduce(Up)}_newPotentialLatest(e){const r=this._currentBlock;r&&Za(e)<=Za(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}mn.BaseBlockTracker=zp;function Za(t){return Number.parseInt(t,16)}var nl={},il={},_e={};class sl extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function qp(t){return Ue(t)&&typeof t[Symbol.iterator]=="function"}function Ue(t){return typeof t=="object"&&t!=null}function Ya(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function de(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Gp(t){const{done:e,value:r}=t.next();return e?void 0:r}function Jp(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${de(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Ys(t,e,r,n){qp(t)||(t=[t]);for(const i of t){const s=Jp(i,e,r,n);s&&(yield s)}}function*xo(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ue(e.schema)&&Ue(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,h,l]of e.entries(t,a)){const f=xo(h,l,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,h],coerce:s,mask:o,message:r.message});for(const d of f)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(h=d[1],u===void 0?t=h:t instanceof Map?t.set(u,h):t instanceof Set?t.add(h):Ue(t)&&(h!==void 0||u in t)&&(t[u]=h))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class ce{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const h=i(c,u);return Ys(h,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const h=s(c,u);return Ys(h,u,this,c)}:this.refiner=()=>[]}assert(e,r){return ol(e,this,r)}create(e,r){return al(e,this,r)}is(e){return ko(e,this)}mask(e,r){return cl(e,this,r)}validate(e,r={}){return Pr(e,this,r)}}function ol(t,e,r){const n=Pr(t,e,{message:r});if(n[0])throw n[0]}function al(t,e,r){const n=Pr(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function cl(t,e,r){const n=Pr(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function ko(t,e){return!Pr(t,e)[0]}function Pr(t,e,r={}){const n=xo(t,e,r),i=Gp(n);return i[0]?[new sl(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Qp(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Ao(n):vn(n)}function Te(t,e){return new ce({type:t,schema:null,validator:e})}function Zp(t,e){return new ce({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Yp(t){return new ce({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Kp(t){let e;return new ce({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function Xp(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Ao(n);default:return vn(n)}}function e0(t){const e=t instanceof ce?{...t.schema}:{...t};for(const r in e)e[r]=ul(e[r]);return vn(e)}function t0(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return vn(n)}function r0(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Te(t,e)}function n0(){return Te("any",()=>!0)}function i0(t){return new ce({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${de(e)}`}})}function s0(){return Te("bigint",t=>typeof t=="bigint")}function o0(){return Te("boolean",t=>typeof t=="boolean")}function a0(){return Te("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${de(t)}`)}function c0(t){const e={},r=t.map(n=>de(n)).join();for(const n of t)e[n]=n;return new ce({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${de(n)}`}})}function u0(){return Te("func",t=>typeof t=="function"||`Expected a function, but received: ${de(t)}`)}function l0(t){return Te("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${de(e)}`)}function h0(){return Te("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${de(t)}`)}function f0(t){return new ce({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function d0(t){const e=de(t),r=typeof t;return new ce({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${de(n)}`}})}function p0(t,e){return new ce({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${de(r)}`}})}function Mo(){return Te("never",()=>!1)}function g0(t){return new ce({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function b0(){return Te("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${de(t)}`)}function vn(t){const e=t?Object.keys(t):[],r=Mo();return new ce({type:"object",schema:t||null,*entries(n){if(t&&Ue(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Ue(n)||`Expected an object, but received: ${de(n)}`},coercer(n){return Ue(n)?{...n}:n}})}function ul(t){return new ce({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function m0(t,e){return new ce({type:"record",schema:null,*entries(r){if(Ue(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ue(r)||`Expected an object, but received: ${de(r)}`}})}function v0(){return Te("regexp",t=>t instanceof RegExp)}function y0(t){return new ce({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${de(e)}`}})}function ll(){return Te("string",t=>typeof t=="string"||`Expected a string, but received: ${de(t)}`)}function _0(t){const e=Mo();return new ce({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${de(r)}`}})}function Ao(t){const e=Object.keys(t);return new ce({type:"type",schema:t,*entries(r){if(Ue(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ue(r)||`Expected an object, but received: ${de(r)}`},coercer(r){return Ue(r)?{...r}:r}})}function w0(t){const e=t.map(r=>r.type).join(" | ");return new ce({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=xo(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${de(r)}`,...i]}})}function hl(){return Te("unknown",()=>!0)}function To(t,e,r){return new ce({...t,coercer:(n,i)=>ko(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function S0(t,e,r={}){return To(t,hl(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Ya(n)&&Ya(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function E0(t){return To(t,ll(),e=>e.trim())}function C0(t){return tr(t,"empty",e=>{const r=fl(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function fl(t){return t instanceof Map||t instanceof Set?t.size:t.length}function I0(t,e,r={}){const{exclusive:n}=r;return tr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function R0(t,e,r={}){const{exclusive:n}=r;return tr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function x0(t){return tr(t,"nonempty",e=>fl(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function k0(t,e){return tr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function M0(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return tr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function tr(t,e,r){return new ce({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=Ys(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const A0=Object.freeze(Object.defineProperty({__proto__:null,Struct:ce,StructError:sl,any:n0,array:i0,assert:ol,assign:Qp,bigint:s0,boolean:o0,coerce:To,create:al,date:a0,defaulted:S0,define:Te,deprecated:Zp,dynamic:Yp,empty:C0,enums:c0,func:u0,instance:l0,integer:h0,intersection:f0,is:ko,lazy:Kp,literal:d0,map:p0,mask:cl,max:I0,min:R0,never:Mo,nonempty:x0,nullable:g0,number:b0,object:vn,omit:Xp,optional:ul,partial:e0,pattern:k0,pick:t0,record:m0,refine:tr,regexp:v0,set:y0,size:M0,string:ll,struct:r0,trimmed:E0,tuple:_0,type:Ao,union:w0,unknown:hl,validate:Pr},Symbol.toStringTag,{value:"Module"})),rr=Kt(A0);Object.defineProperty(_e,"__esModule",{value:!0});_e.assertExhaustive=_e.assertStruct=_e.assert=_e.AssertionError=void 0;const T0=rr;function N0(t){return typeof t=="object"&&t!==null&&"message"in t}function O0(t){var e,r;return typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function L0(t){const e=N0(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function dl(t,e){return O0(t)?new t({message:e}):t({message:e})}class No extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}_e.AssertionError=No;function $0(t,e="Assertion failed.",r=No){if(!t)throw e instanceof Error?e:dl(r,e)}_e.assert=$0;function P0(t,e,r="Assertion failed",n=No){try{(0,T0.assert)(t,e)}catch(i){throw dl(n,`${r}: ${L0(i)}.`)}}_e.assertStruct=P0;function D0(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}_e.assertExhaustive=D0;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.base64=void 0;const j0=rr,B0=_e,F0=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,B0.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,j0.pattern)(t,a)};yn.base64=F0;var q={},_n={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=rr,r=_e;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(_n);Object.defineProperty(q,"__esModule",{value:!0});q.createDataView=q.concatBytes=q.valueToBytes=q.stringToBytes=q.numberToBytes=q.signedBigIntToBytes=q.bigIntToBytes=q.hexToBytes=q.bytesToString=q.bytesToNumber=q.bytesToSignedBigInt=q.bytesToBigInt=q.bytesToHex=q.assertIsBytes=q.isBytes=void 0;const Le=_e,Ks=_n,Ka=48,Xa=58,ec=87;function V0(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const H0=V0();function Oo(t){return t instanceof Uint8Array}q.isBytes=Oo;function Dr(t){(0,Le.assert)(Oo(t),"Value must be a Uint8Array.")}q.assertIsBytes=Dr;function pl(t){if(Dr(t),t.length===0)return"0x";const e=H0(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,Ks.add0x)(r.join(""))}q.bytesToHex=pl;function gl(t){Dr(t);const e=pl(t);return BigInt(e)}q.bytesToBigInt=gl;function W0(t){Dr(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}q.bytesToSignedBigInt=W0;function U0(t){Dr(t);const e=gl(t);return(0,Le.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}q.bytesToNumber=U0;function z0(t){return Dr(t),new TextDecoder().decode(t)}q.bytesToString=z0;function Si(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,Ks.assertIsHexString)(t);const r=(0,Ks.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Xa?Ka:ec),u=a-(a<Xa?Ka:ec);i[s]=c*16+u}return i}q.hexToBytes=Si;function bl(t){(0,Le.assert)(typeof t=="bigint","Value must be a bigint."),(0,Le.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Si(e)}q.bigIntToBytes=bl;function q0(t,e){(0,Le.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function G0(t,e){(0,Le.assert)(typeof t=="bigint","Value must be a bigint."),(0,Le.assert)(typeof e=="number","Byte length must be a number."),(0,Le.assert)(e>0,"Byte length must be greater than 0."),(0,Le.assert)(q0(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}q.signedBigIntToBytes=G0;function ml(t){(0,Le.assert)(typeof t=="number","Value must be a number."),(0,Le.assert)(t>=0,"Value must be a non-negative number."),(0,Le.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Si(e)}q.numberToBytes=ml;function vl(t){return(0,Le.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}q.stringToBytes=vl;function yl(t){if(typeof t=="bigint")return bl(t);if(typeof t=="number")return ml(t);if(typeof t=="string")return t.startsWith("0x")?Si(t):vl(t);if(Oo(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}q.valueToBytes=yl;function J0(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=yl(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}q.concatBytes=J0;function Q0(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}q.createDataView=Q0;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.ChecksumStruct=void 0;const tc=rr,Z0=yn;Ei.ChecksumStruct=(0,tc.size)((0,Z0.base64)((0,tc.string)(),{paddingRequired:!0}),44,44);var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.createHex=ct.createBytes=ct.createBigInt=ct.createNumber=void 0;const re=rr,Y0=_e,_l=q,Ci=_n,wl=(0,re.union)([(0,re.number)(),(0,re.bigint)(),(0,re.string)(),Ci.StrictHexStruct]),K0=(0,re.coerce)((0,re.number)(),wl,Number),X0=(0,re.coerce)((0,re.bigint)(),wl,BigInt);(0,re.union)([Ci.StrictHexStruct,(0,re.instance)(Uint8Array)]);const eg=(0,re.coerce)((0,re.instance)(Uint8Array),(0,re.union)([Ci.StrictHexStruct]),_l.hexToBytes),tg=(0,re.coerce)(Ci.StrictHexStruct,(0,re.instance)(Uint8Array),_l.bytesToHex);function rg(t){try{const e=(0,re.create)(t,K0);return(0,Y0.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof re.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ct.createNumber=rg;function ng(t){try{return(0,re.create)(t,X0)}catch(e){throw e instanceof re.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ct.createBigInt=ng;function ig(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,re.create)(t,eg)}catch(e){throw e instanceof re.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ct.createBytes=ig;function sg(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,re.create)(t,tg)}catch(e){throw e instanceof re.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ct.createHex=sg;var Sr={},Sl=x&&x.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Re=x&&x.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},qe,tt;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.FrozenSet=Sr.FrozenMap=void 0;class Lo{constructor(e){qe.set(this,void 0),Sl(this,qe,new Map(e),"f"),Object.freeze(this)}get size(){return Re(this,qe,"f").size}[(qe=new WeakMap,Symbol.iterator)](){return Re(this,qe,"f")[Symbol.iterator]()}entries(){return Re(this,qe,"f").entries()}forEach(e,r){return Re(this,qe,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Re(this,qe,"f").get(e)}has(e){return Re(this,qe,"f").has(e)}keys(){return Re(this,qe,"f").keys()}values(){return Re(this,qe,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Sr.FrozenMap=Lo;class $o{constructor(e){tt.set(this,void 0),Sl(this,tt,new Set(e),"f"),Object.freeze(this)}get size(){return Re(this,tt,"f").size}[(tt=new WeakMap,Symbol.iterator)](){return Re(this,tt,"f")[Symbol.iterator]()}entries(){return Re(this,tt,"f").entries()}forEach(e,r){return Re(this,tt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Re(this,tt,"f").has(e)}keys(){return Re(this,tt,"f").keys()}values(){return Re(this,tt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Sr.FrozenSet=$o;Object.freeze(Lo);Object.freeze(Lo.prototype);Object.freeze($o);Object.freeze($o.prototype);var El={},Po={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,h)=>Object.hasOwnProperty.call(u,h);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let h=u;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(u)===h}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var h;return u.split("").reduce((f,d)=>o(d)?f+1:f+2,0)+((h=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(Po);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=rr,r=_e,n=Po;t.JsonStruct=(0,e.define)("Json",S=>{const[$]=A(S,!0);return $?!0:"Expected a valid JSON-serializable value"});function i(S){return(0,e.is)(S,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(S){return(0,e.is)(S,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(S,$){(0,r.assertStruct)(S,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",$)}t.assertIsJsonRpcNotification=o;function a(S){return(0,e.is)(S,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(S,$){(0,r.assertStruct)(S,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",$)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(S){return(0,e.is)(S,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function h(S,$){(0,r.assertStruct)(S,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",$)}t.assertIsPendingJsonRpcResponse=h;function l(S){return(0,e.is)(S,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=l;function f(S,$){(0,r.assertStruct)(S,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",$)}t.assertIsJsonRpcResponse=f;function d(S){return(0,e.is)(S,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function p(S,$){(0,r.assertStruct)(S,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",$)}t.assertIsJsonRpcSuccess=p;function E(S){return(0,e.is)(S,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=E;function w(S,$){(0,r.assertStruct)(S,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",$)}t.assertIsJsonRpcFailure=w;function b(S){return(0,e.is)(S,t.JsonRpcErrorStruct)}t.isJsonRpcError=b;function m(S,$){(0,r.assertStruct)(S,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",$)}t.assertIsJsonRpcError=m;function _(S){const{permitEmptyString:$,permitFractions:U,permitNull:ie}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},S);return F=>!!(typeof F=="number"&&(U||Number.isInteger(F))||typeof F=="string"&&($||F.length>0)||ie&&F===null)}t.getJsonRpcIdValidator=_;function A(S,$=!1){const U=new Set;function ie(O,F){if(O===void 0)return[!1,0];if(O===null)return[!0,F?0:n.JsonSize.Null];const ue=typeof O;try{if(ue==="function")return[!1,0];if(ue==="string"||O instanceof String)return[!0,F?0:(0,n.calculateStringSize)(O)+n.JsonSize.Quote*2];if(ue==="boolean"||O instanceof Boolean)return F?[!0,0]:[!0,O==!0?n.JsonSize.True:n.JsonSize.False];if(ue==="number"||O instanceof Number)return F?[!0,0]:[!0,(0,n.calculateNumberSize)(O)];if(O instanceof Date)return F?[!0,0]:[!0,isNaN(O.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(O)&&!Array.isArray(O))return[!1,0];if(U.has(O))return[!1,0];U.add(O);try{return[!0,Object.entries(O).reduce((z,[y,v],M,C)=>{let[T,R]=ie(v,F);if(!T)throw new Error("JSON validation did not pass. Validation process stopped.");if(U.delete(O),F)return 0;const D=Array.isArray(O)?0:y.length+n.JsonSize.Comma+n.JsonSize.Colon*2,J=M<C.length-1?n.JsonSize.Comma:0;return z+D+R+J},F?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return ie(S,$)}t.validateJsonAndGetSize=A})(El);var Er={},og=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.createModuleLogger=Er.createProjectLogger=void 0;const ag=og(mf),cg=(0,ag.default)("metamask");function ug(t){return cg.extend(t)}Er.createProjectLogger=ug;function lg(t,e){return t.extend(e)}Er.createModuleLogger=lg;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.hexToBigInt=ut.hexToNumber=ut.bigIntToHex=ut.numberToHex=void 0;const gr=_e,cn=_n,hg=t=>((0,gr.assert)(typeof t=="number","Value must be a number."),(0,gr.assert)(t>=0,"Value must be a non-negative number."),(0,gr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,cn.add0x)(t.toString(16)));ut.numberToHex=hg;const fg=t=>((0,gr.assert)(typeof t=="bigint","Value must be a bigint."),(0,gr.assert)(t>=0,"Value must be a non-negative bigint."),(0,cn.add0x)(t.toString(16)));ut.bigIntToHex=fg;const dg=t=>{(0,cn.assertIsHexString)(t);const e=parseInt(t,16);return(0,gr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};ut.hexToNumber=dg;const pg=t=>((0,cn.assertIsHexString)(t),BigInt((0,cn.add0x)(t)));ut.hexToBigInt=pg;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});var Il={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Il);var Rl={},Xs={exports:{}};const gg="2.0.0",xl=256,bg=Number.MAX_SAFE_INTEGER||9007199254740991,mg=16,vg=xl-6,yg=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ii={MAX_LENGTH:xl,MAX_SAFE_COMPONENT_LENGTH:mg,MAX_SAFE_BUILD_LENGTH:vg,MAX_SAFE_INTEGER:bg,RELEASE_TYPES:yg,SEMVER_SPEC_VERSION:gg,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ys={};const _g=typeof process=="object"&&ys&&ys.NODE_DEBUG&&/\bsemver\b/i.test(ys.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ri=_g;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ii,s=Ri;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.t={};let h=0;const l="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[l,n]],d=E=>{for(const[w,b]of f)E=E.split(`${w}*`).join(`${w}{0,${b}}`).split(`${w}+`).join(`${w}{1,${b}}`);return E},p=(E,w,b)=>{const m=d(w),_=h++;s(E,_,w),u[E]=_,c[_]=w,o[_]=new RegExp(w,b?"g":void 0),a[_]=new RegExp(m,b?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),p("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${l}+`),p("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),p("FULL",`^${c[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),p("LOOSE",`^${c[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),p("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),p("COERCERTL",c[u.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Xs,Xs.exports);var wn=Xs.exports;const wg=Object.freeze({loose:!0}),Sg=Object.freeze({}),Eg=t=>t?typeof t!="object"?wg:t:Sg;var Do=Eg;const rc=/^[0-9]+$/,kl=(t,e)=>{const r=rc.test(t),n=rc.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Cg=(t,e)=>kl(e,t);var Ml={compareIdentifiers:kl,rcompareIdentifiers:Cg};const Bn=Ri,{MAX_LENGTH:nc,MAX_SAFE_INTEGER:Fn}=Ii,{safeRe:ic,t:sc}=wn,Ig=Do,{compareIdentifiers:sr}=Ml;let Rg=class nt{constructor(e,r){if(r=Ig(r),e instanceof nt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>nc)throw new TypeError(`version is longer than ${nc} characters`);Bn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?ic[sc.LOOSE]:ic[sc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Fn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Fn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Fn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Fn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Bn("SemVer.compare",this.version,this.options,e),!(e instanceof nt)){if(typeof e=="string"&&e===this.version)return 0;e=new nt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof nt||(e=new nt(e,this.options)),sr(this.major,e.major)||sr(this.minor,e.minor)||sr(this.patch,e.patch)}comparePre(e){if(e instanceof nt||(e=new nt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return sr(n,i)}while(++r)}compareBuild(e){e instanceof nt||(e=new nt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return sr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),sr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Me=Rg;const oc=Me,xg=(t,e,r=!1)=>{if(t instanceof oc)return t;try{return new oc(t,e)}catch(n){if(!r)return null;throw n}};var jr=xg;const kg=jr,Mg=(t,e)=>{const r=kg(t,e);return r?r.version:null};var Ag=Mg;const Tg=jr,Ng=(t,e)=>{const r=Tg(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Og=Ng;const ac=Me,Lg=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new ac(t instanceof ac?t.version:t,r).inc(e,n,i).version}catch{return null}};var $g=Lg;const cc=jr,Pg=(t,e)=>{const r=cc(t,null,!0),n=cc(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var Dg=Pg;const jg=Me,Bg=(t,e)=>new jg(t,e).major;var Fg=Bg;const Vg=Me,Hg=(t,e)=>new Vg(t,e).minor;var Wg=Hg;const Ug=Me,zg=(t,e)=>new Ug(t,e).patch;var qg=zg;const Gg=jr,Jg=(t,e)=>{const r=Gg(t,e);return r&&r.prerelease.length?r.prerelease:null};var Qg=Jg;const uc=Me,Zg=(t,e,r)=>new uc(t,r).compare(new uc(e,r));var Ke=Zg;const Yg=Ke,Kg=(t,e,r)=>Yg(e,t,r);var Xg=Kg;const eb=Ke,tb=(t,e)=>eb(t,e,!0);var rb=tb;const lc=Me,nb=(t,e,r)=>{const n=new lc(t,r),i=new lc(e,r);return n.compare(i)||n.compareBuild(i)};var jo=nb;const ib=jo,sb=(t,e)=>t.sort((r,n)=>ib(r,n,e));var ob=sb;const ab=jo,cb=(t,e)=>t.sort((r,n)=>ab(n,r,e));var ub=cb;const lb=Ke,hb=(t,e,r)=>lb(t,e,r)>0;var xi=hb;const fb=Ke,db=(t,e,r)=>fb(t,e,r)<0;var Bo=db;const pb=Ke,gb=(t,e,r)=>pb(t,e,r)===0;var Al=gb;const bb=Ke,mb=(t,e,r)=>bb(t,e,r)!==0;var Tl=mb;const vb=Ke,yb=(t,e,r)=>vb(t,e,r)>=0;var Fo=yb;const _b=Ke,wb=(t,e,r)=>_b(t,e,r)<=0;var Vo=wb;const Sb=Al,Eb=Tl,Cb=xi,Ib=Fo,Rb=Bo,xb=Vo,kb=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Sb(t,r,n);case"!=":return Eb(t,r,n);case">":return Cb(t,r,n);case">=":return Ib(t,r,n);case"<":return Rb(t,r,n);case"<=":return xb(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Nl=kb;const Mb=Me,Ab=jr,{safeRe:Vn,t:Hn}=wn,Tb=(t,e)=>{if(t instanceof Mb)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Vn[Hn.COERCE]);else{let n;for(;(n=Vn[Hn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Vn[Hn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Vn[Hn.COERCERTL].lastIndex=-1}return r===null?null:Ab(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Nb=Tb,_s,hc;function Ob(){return hc||(hc=1,_s=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),_s}var Lb=G;G.Node=Qt;G.create=G;function G(t){var e=this;if(e instanceof G||(e=new G),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}G.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};G.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};G.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};G.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Pb(this,arguments[t]);return this.length};G.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Db(this,arguments[t]);return this.length};G.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};G.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};G.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};G.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};G.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};G.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};G.prototype.map=function(t,e){e=e||this;for(var r=new G,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};G.prototype.mapReverse=function(t,e){e=e||this;for(var r=new G,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};G.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};G.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};G.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};G.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};G.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new G;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};G.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new G;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};G.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=$b(this,i,r[n]);return s};G.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function $b(t,e,r){var n=e===t.head?new Qt(r,null,e,t):new Qt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Pb(t,e){t.tail=new Qt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Db(t,e){t.head=new Qt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Qt(t,e,r,n){if(!(this instanceof Qt))return new Qt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ob()(G)}catch{}const jb=Lb,Ht=Symbol("max"),bt=Symbol("length"),or=Symbol("lengthCalculator"),tn=Symbol("allowStale"),qt=Symbol("maxAge"),dt=Symbol("dispose"),fc=Symbol("noDisposeOnSet"),ge=Symbol("lruList"),Qe=Symbol("cache"),Ol=Symbol("updateAgeOnGet"),ws=()=>1;class Bb{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Ht]=e.max||1/0;const r=e.length||ws;if(this[or]=typeof r!="function"?ws:r,this[tn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[qt]=e.maxAge||0,this[dt]=e.dispose,this[fc]=e.noDisposeOnSet||!1,this[Ol]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ht]=e||1/0,qr(this)}get max(){return this[Ht]}set allowStale(e){this[tn]=!!e}get allowStale(){return this[tn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[qt]=e,qr(this)}get maxAge(){return this[qt]}set lengthCalculator(e){typeof e!="function"&&(e=ws),e!==this[or]&&(this[or]=e,this[bt]=0,this[ge].forEach(r=>{r.length=this[or](r.value,r.key),this[bt]+=r.length})),qr(this)}get lengthCalculator(){return this[or]}get length(){return this[bt]}get itemCount(){return this[ge].length}rforEach(e,r){r=r||this;for(let n=this[ge].tail;n!==null;){const i=n.prev;dc(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ge].head;n!==null;){const i=n.next;dc(this,e,n,r),n=i}}keys(){return this[ge].toArray().map(e=>e.key)}values(){return this[ge].toArray().map(e=>e.value)}reset(){this[dt]&&this[ge]&&this[ge].length&&this[ge].forEach(e=>this[dt](e.key,e.value)),this[Qe]=new Map,this[ge]=new jb,this[bt]=0}dump(){return this[ge].map(e=>ii(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ge]}set(e,r,n){if(n=n||this[qt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[or](r,e);if(this[Qe].has(e)){if(s>this[Ht])return br(this,this[Qe].get(e)),!1;const c=this[Qe].get(e).value;return this[dt]&&(this[fc]||this[dt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[bt]+=s-c.length,c.length=s,this.get(e),qr(this),!0}const o=new Fb(e,r,s,i,n);return o.length>this[Ht]?(this[dt]&&this[dt](e,r),!1):(this[bt]+=o.length,this[ge].unshift(o),this[Qe].set(e,this[ge].head),qr(this),!0)}has(e){if(!this[Qe].has(e))return!1;const r=this[Qe].get(e).value;return!ii(this,r)}get(e){return Ss(this,e,!0)}peek(e){return Ss(this,e,!1)}pop(){const e=this[ge].tail;return e?(br(this,e),e.value):null}del(e){br(this,this[Qe].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Qe].forEach((e,r)=>Ss(this,r,!1))}}const Ss=(t,e,r)=>{const n=t[Qe].get(e);if(n){const i=n.value;if(ii(t,i)){if(br(t,n),!t[tn])return}else r&&(t[Ol]&&(n.value.now=Date.now()),t[ge].unshiftNode(n));return i.value}},ii=(t,e)=>{if(!e||!e.maxAge&&!t[qt])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[qt]&&r>t[qt]},qr=t=>{if(t[bt]>t[Ht])for(let e=t[ge].tail;t[bt]>t[Ht]&&e!==null;){const r=e.prev;br(t,e),e=r}},br=(t,e)=>{if(e){const r=e.value;t[dt]&&t[dt](r.key,r.value),t[bt]-=r.length,t[Qe].delete(r.key),t[ge].removeNode(e)}};class Fb{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const dc=(t,e,r,n)=>{let i=r.value;ii(t,i)&&(br(t,r),t[tn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var Vb=Bb,Es,pc;function Xe(){if(pc)return Es;pc=1;class t{constructor(v,M){if(M=n(M),v instanceof t)return v.loose===!!M.loose&&v.includePrerelease===!!M.includePrerelease?v:new t(v.raw,M);if(v instanceof i)return this.raw=v.value,this.set=[[v]],this.format(),this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=v.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(C=>this.parseRange(C.trim())).filter(C=>C.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const C=this.set[0];if(this.set=this.set.filter(T=>!p(T[0])),this.set.length===0)this.set=[C];else if(this.set.length>1){for(const T of this.set)if(T.length===1&&E(T[0])){this.set=[T];break}}}this.format()}format(){return this.range=this.set.map(v=>v.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(v){const C=((this.options.includePrerelease&&f)|(this.options.loose&&d))+":"+v,T=r.get(C);if(T)return T;const R=this.options.loose,D=R?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];v=v.replace(D,ue(this.options.includePrerelease)),s("hyphen replace",v),v=v.replace(a[c.COMPARATORTRIM],u),s("comparator trim",v),v=v.replace(a[c.TILDETRIM],h),s("tilde trim",v),v=v.replace(a[c.CARETTRIM],l),s("caret trim",v);let J=v.split(" ").map(le=>b(le,this.options)).join(" ").split(/\s+/).map(le=>F(le,this.options));R&&(J=J.filter(le=>(s("loose invalid filter",le,this.options),!!le.match(a[c.COMPARATORLOOSE])))),s("range list",J);const H=new Map,ee=J.map(le=>new i(le,this.options));for(const le of ee){if(p(le))return[le];H.set(le.value,le)}H.size>1&&H.has("")&&H.delete("");const Ne=[...H.values()];return r.set(C,Ne),Ne}intersects(v,M){if(!(v instanceof t))throw new TypeError("a Range is required");return this.set.some(C=>w(C,M)&&v.set.some(T=>w(T,M)&&C.every(R=>T.every(D=>R.intersects(D,M)))))}test(v){if(!v)return!1;if(typeof v=="string")try{v=new o(v,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(z(this.set[M],v,this.options))return!0;return!1}}Es=t;const e=Vb,r=new e({max:1e3}),n=Do,i=ki(),s=Ri,o=Me,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:l}=wn,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:d}=Ii,p=y=>y.value==="<0.0.0-0",E=y=>y.value==="",w=(y,v)=>{let M=!0;const C=y.slice();let T=C.pop();for(;M&&C.length;)M=C.every(R=>T.intersects(R,v)),T=C.pop();return M},b=(y,v)=>(s("comp",y,v),y=S(y,v),s("caret",y),y=_(y,v),s("tildes",y),y=U(y,v),s("xrange",y),y=O(y,v),s("stars",y),y),m=y=>!y||y.toLowerCase()==="x"||y==="*",_=(y,v)=>y.trim().split(/\s+/).map(M=>A(M,v)).join(" "),A=(y,v)=>{const M=v.loose?a[c.TILDELOOSE]:a[c.TILDE];return y.replace(M,(C,T,R,D,J)=>{s("tilde",y,C,T,R,D,J);let H;return m(T)?H="":m(R)?H=`>=${T}.0.0 <${+T+1}.0.0-0`:m(D)?H=`>=${T}.${R}.0 <${T}.${+R+1}.0-0`:J?(s("replaceTilde pr",J),H=`>=${T}.${R}.${D}-${J} <${T}.${+R+1}.0-0`):H=`>=${T}.${R}.${D} <${T}.${+R+1}.0-0`,s("tilde return",H),H})},S=(y,v)=>y.trim().split(/\s+/).map(M=>$(M,v)).join(" "),$=(y,v)=>{s("caret",y,v);const M=v.loose?a[c.CARETLOOSE]:a[c.CARET],C=v.includePrerelease?"-0":"";return y.replace(M,(T,R,D,J,H)=>{s("caret",y,T,R,D,J,H);let ee;return m(R)?ee="":m(D)?ee=`>=${R}.0.0${C} <${+R+1}.0.0-0`:m(J)?R==="0"?ee=`>=${R}.${D}.0${C} <${R}.${+D+1}.0-0`:ee=`>=${R}.${D}.0${C} <${+R+1}.0.0-0`:H?(s("replaceCaret pr",H),R==="0"?D==="0"?ee=`>=${R}.${D}.${J}-${H} <${R}.${D}.${+J+1}-0`:ee=`>=${R}.${D}.${J}-${H} <${R}.${+D+1}.0-0`:ee=`>=${R}.${D}.${J}-${H} <${+R+1}.0.0-0`):(s("no pr"),R==="0"?D==="0"?ee=`>=${R}.${D}.${J}${C} <${R}.${D}.${+J+1}-0`:ee=`>=${R}.${D}.${J}${C} <${R}.${+D+1}.0-0`:ee=`>=${R}.${D}.${J} <${+R+1}.0.0-0`),s("caret return",ee),ee})},U=(y,v)=>(s("replaceXRanges",y,v),y.split(/\s+/).map(M=>ie(M,v)).join(" ")),ie=(y,v)=>{y=y.trim();const M=v.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return y.replace(M,(C,T,R,D,J,H)=>{s("xRange",y,C,T,R,D,J,H);const ee=m(R),Ne=ee||m(D),le=Ne||m(J),Wr=le;return T==="="&&Wr&&(T=""),H=v.includePrerelease?"-0":"",ee?T===">"||T==="<"?C="<0.0.0-0":C="*":T&&Wr?(Ne&&(D=0),J=0,T===">"?(T=">=",Ne?(R=+R+1,D=0,J=0):(D=+D+1,J=0)):T==="<="&&(T="<",Ne?R=+R+1:D=+D+1),T==="<"&&(H="-0"),C=`${T+R}.${D}.${J}${H}`):Ne?C=`>=${R}.0.0${H} <${+R+1}.0.0-0`:le&&(C=`>=${R}.${D}.0${H} <${R}.${+D+1}.0-0`),s("xRange return",C),C})},O=(y,v)=>(s("replaceStars",y,v),y.trim().replace(a[c.STAR],"")),F=(y,v)=>(s("replaceGTE0",y,v),y.trim().replace(a[v.includePrerelease?c.GTE0PRE:c.GTE0],"")),ue=y=>(v,M,C,T,R,D,J,H,ee,Ne,le,Wr,w5)=>(m(C)?M="":m(T)?M=`>=${C}.0.0${y?"-0":""}`:m(R)?M=`>=${C}.${T}.0${y?"-0":""}`:D?M=`>=${M}`:M=`>=${M}${y?"-0":""}`,m(ee)?H="":m(Ne)?H=`<${+ee+1}.0.0-0`:m(le)?H=`<${ee}.${+Ne+1}.0-0`:Wr?H=`<=${ee}.${Ne}.${le}-${Wr}`:y?H=`<${ee}.${Ne}.${+le+1}-0`:H=`<=${H}`,`${M} ${H}`.trim()),z=(y,v,M)=>{for(let C=0;C<y.length;C++)if(!y[C].test(v))return!1;if(v.prerelease.length&&!M.includePrerelease){for(let C=0;C<y.length;C++)if(s(y[C].semver),y[C].semver!==i.ANY&&y[C].semver.prerelease.length>0){const T=y[C].semver;if(T.major===v.major&&T.minor===v.minor&&T.patch===v.patch)return!0}return!1}return!0};return Es}var Cs,gc;function ki(){if(gc)return Cs;gc=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,l){if(l=r(l),h instanceof e){if(h.loose===!!l.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,l),this.options=l,this.loose=!!l.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const l=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=h.match(l);if(!f)throw new TypeError(`Invalid comparator: ${h}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new a(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,l){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,l).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,l).test(h.semver):(l=r(l),l.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!l.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,l)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,l)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}Cs=e;const r=Do,{safeRe:n,t:i}=wn,s=Nl,o=Ri,a=Me,c=Xe();return Cs}const Hb=Xe(),Wb=(t,e,r)=>{try{e=new Hb(e,r)}catch{return!1}return e.test(t)};var Mi=Wb;const Ub=Xe(),zb=(t,e)=>new Ub(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var qb=zb;const Gb=Me,Jb=Xe(),Qb=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Jb(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Gb(n,r))}),n};var Zb=Qb;const Yb=Me,Kb=Xe(),Xb=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Kb(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Yb(n,r))}),n};var em=Xb;const Is=Me,tm=Xe(),bc=xi,rm=(t,e)=>{t=new tm(t,e);let r=new Is("0.0.0");if(t.test(r)||(r=new Is("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Is(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||bc(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||bc(r,s))&&(r=s)}return r&&t.test(r)?r:null};var nm=rm;const im=Xe(),sm=(t,e)=>{try{return new im(t,e).range||"*"}catch{return null}};var om=sm;const am=Me,Ll=ki(),{ANY:cm}=Ll,um=Xe(),lm=Mi,mc=xi,vc=Bo,hm=Vo,fm=Fo,dm=(t,e,r,n)=>{t=new am(t,n),e=new um(e,n);let i,s,o,a,c;switch(r){case">":i=mc,s=hm,o=vc,a=">",c=">=";break;case"<":i=vc,s=fm,o=mc,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lm(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const h=e.set[u];let l=null,f=null;if(h.forEach(d=>{d.semver===cm&&(d=new Ll(">=0.0.0")),l=l||d,f=f||d,i(d.semver,l.semver,n)?l=d:o(d.semver,f.semver,n)&&(f=d)}),l.operator===a||l.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var Ho=dm;const pm=Ho,gm=(t,e,r)=>pm(t,e,">",r);var bm=gm;const mm=Ho,vm=(t,e,r)=>mm(t,e,"<",r);var ym=vm;const yc=Xe(),_m=(t,e,r)=>(t=new yc(t,r),e=new yc(e,r),t.intersects(e,r));var wm=_m;const Sm=Mi,Em=Ke;var Cm=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,l)=>Em(h,l,r));for(const h of o)Sm(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,l]of n)h===l?a.push(h):!l&&h===o[0]?a.push("*"):l?h===o[0]?a.push(`<=${l}`):a.push(`${h} - ${l}`):a.push(`>=${h}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const _c=Xe(),Wo=ki(),{ANY:Rs}=Wo,Gr=Mi,Uo=Ke,Im=(t,e,r={})=>{if(t===e)return!0;t=new _c(t,r),e=new _c(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=xm(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Rm=[new Wo(">=0.0.0-0")],wc=[new Wo(">=0.0.0")],xm=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Rs){if(e.length===1&&e[0].semver===Rs)return!0;r.includePrerelease?t=Rm:t=wc}if(e.length===1&&e[0].semver===Rs){if(r.includePrerelease)return!0;e=wc}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Sc(i,d,r):d.operator==="<"||d.operator==="<="?s=Ec(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Uo(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!Gr(d,String(i),r)||s&&!Gr(d,String(s),r))return null;for(const p of e)if(!Gr(d,String(p),r))return!1;return!0}let a,c,u,h,l=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;l&&l.prerelease.length===1&&s.operator==="<"&&l.prerelease[0]===0&&(l=!1);for(const d of e){if(h=h||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=Sc(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!Gr(i.semver,String(d),r))return!1}if(s){if(l&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===l.major&&d.semver.minor===l.minor&&d.semver.patch===l.patch&&(l=!1),d.operator==="<"||d.operator==="<="){if(c=Ec(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!Gr(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&h&&!i&&o!==0||f||l)},Sc=(t,e,r)=>{if(!t)return e;const n=Uo(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Ec=(t,e,r)=>{if(!t)return e;const n=Uo(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var km=Im;const xs=wn,Cc=Ii,Mm=Me,Ic=Ml,Am=jr,Tm=Ag,Nm=Og,Om=$g,Lm=Dg,$m=Fg,Pm=Wg,Dm=qg,jm=Qg,Bm=Ke,Fm=Xg,Vm=rb,Hm=jo,Wm=ob,Um=ub,zm=xi,qm=Bo,Gm=Al,Jm=Tl,Qm=Fo,Zm=Vo,Ym=Nl,Km=Nb,Xm=ki(),ev=Xe(),tv=Mi,rv=qb,nv=Zb,iv=em,sv=nm,ov=om,av=Ho,cv=bm,uv=ym,lv=wm,hv=Cm,fv=km;var dv={parse:Am,valid:Tm,clean:Nm,inc:Om,diff:Lm,major:$m,minor:Pm,patch:Dm,prerelease:jm,compare:Bm,rcompare:Fm,compareLoose:Vm,compareBuild:Hm,sort:Wm,rsort:Um,gt:zm,lt:qm,eq:Gm,neq:Jm,gte:Qm,lte:Zm,cmp:Ym,coerce:Km,Comparator:Xm,Range:ev,satisfies:tv,toComparators:rv,maxSatisfying:nv,minSatisfying:iv,minVersion:sv,validRange:ov,outside:av,gtr:cv,ltr:uv,intersects:lv,simplifyRange:hv,subset:fv,SemVer:Mm,re:xs.re,src:xs.src,tokens:xs.t,SEMVER_SPEC_VERSION:Cc.SEMVER_SPEC_VERSION,RELEASE_TYPES:Cc.RELEASE_TYPES,compareIdentifiers:Ic.compareIdentifiers,rcompareIdentifiers:Ic.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=dv,r=rr,n=_e;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",l=>(0,e.valid)(l)===null?`Expected SemVer version, got "${l}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",l=>(0,e.validRange)(l)===null?`Expected SemVer range, got "${l}"`:!0);function i(l){return(0,r.is)(l,t.VersionStruct)}t.isValidSemVerVersion=i;function s(l){return(0,r.is)(l,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(l){(0,n.assertStruct)(l,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(l){(0,n.assertStruct)(l,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(l,f){return(0,e.gt)(l,f)}t.gtVersion=c;function u(l,f){return(0,e.gtr)(l,f)}t.gtRange=u;function h(l,f){return(0,e.satisfies)(l,f,{includePrerelease:!0})}t.satisfiesVersionRange=h})(Rl);(function(t){var e=x&&x.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=x&&x.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_e,t),r(yn,t),r(q,t),r(Ei,t),r(ct,t),r(Sr,t),r(_n,t),r(El,t),r(Er,t),r(Po,t),r(ut,t),r(Cl,t),r(Il,t),r(Rl,t)})(il);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=il;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(nl);var $l=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});wi.PollingBlockTracker=void 0;const pv=$l(Ro),gv=$l(Fp),bv=mn,Rc=nl,xc=(0,Rc.createModuleLogger)(Rc.projectLogger,"polling-block-tracker"),mv=(0,pv.default)(),vv=1e3;class yv extends bv.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*vv,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=kc(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=kc(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:mv(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),xc("Making request",e);const r=await(0,gv.default)(n=>this._provider.sendAsync(e,n))();if(xc("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}wi.PollingBlockTracker=yv;function kc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ai={},_v=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.SubscribeBlockTracker=void 0;const wv=_v(Ro),Sv=mn,Ev=(0,wv.default)();class Cv extends Sv.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Ev(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Ai.SubscribeBlockTracker=Cv;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});(function(t){var e=x&&x.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=x&&x.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wi,t),r(Ai,t),r(Pl,t)})(rl);var zo={},Ti={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.getUniqueId=void 0;const Dl=4294967295;let ks=Math.floor(Math.random()*Dl);function Iv(){return ks=(ks+1)%Dl,ks}Sn.getUniqueId=Iv;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.createIdRemapMiddleware=void 0;const Rv=Sn;function xv(){return(t,e,r,n)=>{const i=t.id,s=Rv.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Ti.createIdRemapMiddleware=xv;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.createAsyncMiddleware=void 0;function kv(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const u=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}Ni.createAsyncMiddleware=kv;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.createScaffoldMiddleware=void 0;function Mv(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Oi.createScaffoldMiddleware=Mv;var En={},Av=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});En.JsonRpcEngine=void 0;const Tv=Av(Xt),je=go;class pt extends Tv.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await pt._runAllMiddleware(e,r,this._middleware);return o?(await pt._runReturnHandlers(a),i(s)):n(async c=>{try{await pt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new je.EthereumRpcError(je.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new je.EthereumRpcError(je.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=je.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await pt._runAllMiddleware(e,r,this._middleware);if(pt._checkForCompletion(e,r,i),await pt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await pt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=je.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new je.EthereumRpcError(je.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ms(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new je.EthereumRpcError(je.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ms(e)}`,{request:e});if(!n)throw new je.EthereumRpcError(je.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ms(e)}`,{request:e})}}En.JsonRpcEngine=pt;function Ms(t){return JSON.stringify(t,null,2)}var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.mergeMiddleware=void 0;const Nv=En;function Ov(t){const e=new Nv.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Li.mergeMiddleware=Ov;(function(t){var e=x&&x.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=x&&x.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ti,t),r(Ni,t),r(Oi,t),r(Sn,t),r(En,t),r(Li,t)})(zo);var jl={},qo={};const Go=Kt(ff);var $i={};Object.defineProperty($i,"__esModule",{value:!0});var Mc=Go,Lv=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Mc.__awaiter(this,void 0,void 0,function(){var r,n,i;return Mc.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();$i.default=Lv;Object.defineProperty(qo,"__esModule",{value:!0});var Ac=Go,$v=$i,Pv=function(){function t(){this._semaphore=new $v.default(1)}return t.prototype.acquire=function(){return Ac.__awaiter(this,void 0,void 0,function(){var e,r;return Ac.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();qo.default=Pv;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.withTimeout=void 0;var Wn=Go;function Dv(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Wn.__awaiter(n,void 0,void 0,function(){var o,a,c;return Wn.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Wn.__awaiter(this,void 0,void 0,function(){var s,o;return Wn.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Pi.withTimeout=Dv;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=qo;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=$i;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Pi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(jl);var jv=Fv,Bv=Object.prototype.hasOwnProperty;function Fv(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Bv.call(r,n)&&(t[n]=r[n])}return t}const Vv=jv,Hv=Ro();var Wv=P;function P(t){const e=this;e.currentProvider=t}P.prototype.getBalance=Cn(2,"eth_getBalance");P.prototype.getCode=Cn(2,"eth_getCode");P.prototype.getTransactionCount=Cn(2,"eth_getTransactionCount");P.prototype.getStorageAt=Cn(3,"eth_getStorageAt");P.prototype.call=Cn(2,"eth_call");P.prototype.protocolVersion=V("eth_protocolVersion");P.prototype.syncing=V("eth_syncing");P.prototype.coinbase=V("eth_coinbase");P.prototype.mining=V("eth_mining");P.prototype.hashrate=V("eth_hashrate");P.prototype.gasPrice=V("eth_gasPrice");P.prototype.accounts=V("eth_accounts");P.prototype.blockNumber=V("eth_blockNumber");P.prototype.getBlockTransactionCountByHash=V("eth_getBlockTransactionCountByHash");P.prototype.getBlockTransactionCountByNumber=V("eth_getBlockTransactionCountByNumber");P.prototype.getUncleCountByBlockHash=V("eth_getUncleCountByBlockHash");P.prototype.getUncleCountByBlockNumber=V("eth_getUncleCountByBlockNumber");P.prototype.sign=V("eth_sign");P.prototype.sendTransaction=V("eth_sendTransaction");P.prototype.sendRawTransaction=V("eth_sendRawTransaction");P.prototype.estimateGas=V("eth_estimateGas");P.prototype.getBlockByHash=V("eth_getBlockByHash");P.prototype.getBlockByNumber=V("eth_getBlockByNumber");P.prototype.getTransactionByHash=V("eth_getTransactionByHash");P.prototype.getTransactionByBlockHashAndIndex=V("eth_getTransactionByBlockHashAndIndex");P.prototype.getTransactionByBlockNumberAndIndex=V("eth_getTransactionByBlockNumberAndIndex");P.prototype.getTransactionReceipt=V("eth_getTransactionReceipt");P.prototype.getUncleByBlockHashAndIndex=V("eth_getUncleByBlockHashAndIndex");P.prototype.getUncleByBlockNumberAndIndex=V("eth_getUncleByBlockNumberAndIndex");P.prototype.getCompilers=V("eth_getCompilers");P.prototype.compileLLL=V("eth_compileLLL");P.prototype.compileSolidity=V("eth_compileSolidity");P.prototype.compileSerpent=V("eth_compileSerpent");P.prototype.newFilter=V("eth_newFilter");P.prototype.newBlockFilter=V("eth_newBlockFilter");P.prototype.newPendingTransactionFilter=V("eth_newPendingTransactionFilter");P.prototype.uninstallFilter=V("eth_uninstallFilter");P.prototype.getFilterChanges=V("eth_getFilterChanges");P.prototype.getFilterLogs=V("eth_getFilterLogs");P.prototype.getLogs=V("eth_getLogs");P.prototype.getWork=V("eth_getWork");P.prototype.submitWork=V("eth_submitWork");P.prototype.submitHashrate=V("eth_submitHashrate");P.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Uv(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function V(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Cn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Uv(t){return Vv({id:Hv(),jsonrpc:"2.0",params:[]},t)}const Tc=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,h)=>{u?a(u):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Nc=new WeakMap;var zv=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Nc.get(o);if(c||(c={},Nc.set(o,c)),a in c)return c[a];const u=p=>typeof p=="string"||typeof a=="symbol"?a===p:p.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),l=h===void 0||h.writable||h.configurable,d=(e.include?e.include.some(u):!e.exclude.some(u))&&l;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const h=e.excludeMain?o:Tc(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const h=Tc(c,e,s,o);return i.set(c,h),h}return c}});return s};const qv=Xt.default;let Gv=class extends qv{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Jo=Gv;const Jv=Jo;let Qv=class extends Jv{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var Zv=Qv,In={minBlockRef:Yv,maxBlockRef:Kv,sortBlockRefs:Qo,bnToHex:Xv,blockRefIsNumber:ey,hexToInt:si,incrementHexInt:ty,intToHex:Bl,unsafeRandomBytes:ry};function Yv(...t){return Qo(t)[0]}function Kv(...t){const e=Qo(t);return e[e.length-1]}function Qo(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:si(e)-si(r))}function Xv(t){return"0x"+t.toString(16)}function ey(t){return t&&!["earliest","latest","pending"].includes(t)}function si(t){return t==null?t:Number.parseInt(t,16)}function ty(t){if(t==null)return t;const e=si(t);return Bl(e+1)}function Bl(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function ry(t){let e="0x";for(let r=0;r<t;r++)e+=Oc(),e+=Oc();return e}function Oc(){return Math.floor(Math.random()*16).toString(16)}const ny=Wv,iy=zv,sy=Zv,{bnToHex:M5,hexToInt:Un,incrementHexInt:oy,minBlockRef:ay,blockRefIsNumber:cy}=In;let uy=class extends sy{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new ny(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=ay(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=oy(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await iy(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Un(this.params.fromBlock)>=Un(e.blockNumber)||cy(this.params.toBlock)&&Un(this.params.toBlock)<=Un(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}};var ly=uy,Zo=hy;async function hy({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Lc(e),s=Lc(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(fy);return await Promise.all(o.map(c=>py(t,"eth_getBlockByNumber",[c,!1])))}function Lc(t){return t==null?t:Number.parseInt(t,16)}function fy(t){return t==null?t:"0x"+t.toString(16)}function dy(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function py(t,e,r){for(let n=0;n<3;n++)try{return await dy(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const gy=Jo,by=Zo,{incrementHexInt:my}=In;let vy=class extends gy{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=my(e),o=(await by({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var yy=vy;const _y=Jo,wy=Zo,{incrementHexInt:Sy}=In;let Ey=class extends _y{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Sy(e),i=await wy({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var Cy=Ey;const Iy=jl.Mutex,{createAsyncMiddleware:Ry,createScaffoldMiddleware:xy}=zo,ky=ly,My=yy,Ay=Cy,{intToHex:Fl,hexToInt:As}=In;var Ty=Ny;function Ny({blockTracker:t,provider:e}){let r=0,n={};const i=new Iy,s=Oy({mutex:i}),o=xy({eth_newFilter:s(Ts(c)),eth_newBlockFilter:s(Ts(u)),eth_newPendingTransactionFilter:s(Ts(h)),eth_uninstallFilter:s(Yn(d)),eth_getFilterChanges:s(Yn(l)),eth_getFilterLogs:s(Yn(f))}),a=async({oldBlock:m,newBlock:_})=>{if(n.length===0)return;const A=await i.acquire();try{await Promise.all(ar(n).map(async S=>{try{await S.update({oldBlock:m,newBlock:_})}catch($){console.error($)}}))}catch(S){console.error(S)}A()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=h,o.uninstallFilter=d,o.getFilterChanges=l,o.getFilterLogs=f,o.destroy=()=>{w()},o;async function c(m){const _=new ky({provider:e,params:m});return await p(_),_}async function u(){const m=new My({provider:e});return await p(m),m}async function h(){const m=new Ay({provider:e});return await p(m),m}async function l(m){const _=As(m),A=n[_];if(!A)throw new Error(`No filter for index "${_}"`);return A.getChangesAndClear()}async function f(m){const _=As(m),A=n[_];if(!A)throw new Error(`No filter for index "${_}"`);let S=[];return A.type==="log"&&(S=A.getAllResults()),S}async function d(m){const _=As(m),S=!!n[_];return S&&await E(_),S}async function p(m){const _=ar(n).length,A=await t.getLatestBlock();await m.initialize({currentBlock:A}),r++,n[r]=m,m.id=r,m.idHex=Fl(r);const S=ar(n).length;return b({prevFilterCount:_,newFilterCount:S}),r}async function E(m){const _=ar(n).length;delete n[m];const A=ar(n).length;b({prevFilterCount:_,newFilterCount:A})}async function w(){const m=ar(n).length;n={},b({prevFilterCount:m,newFilterCount:0})}function b({prevFilterCount:m,newFilterCount:_}){if(m===0&&_>0){t.on("sync",a);return}if(m>0&&_===0){t.removeListener("sync",a);return}}}function Ts(t){return Yn(async(...e)=>{const r=await t(...e);return Fl(r.id)})}function Yn(t){return Ry(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function Oy({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function ar(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const Ly=Xt.default,{createAsyncMiddleware:$c,createScaffoldMiddleware:$y}=zo,Py=Ty,{unsafeRandomBytes:Dy,incrementHexInt:jy}=In,By=Zo;var Fy=Vy;function Vy({blockTracker:t,provider:e}){const r={},n=Py({blockTracker:t,provider:e});let i=!1;const s=new Ly,o=$y({eth_subscribe:$c(a),eth_unsubscribe:$c(c)});return o.destroy=h,{events:s,middleware:o};async function a(l,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=l.params[0],p=Dy(16);let E;switch(d){case"newHeads":E=w({subId:p});break;case"logs":const m=l.params[1],_=await n.newLogFilter(m);E=b({subId:p,filter:_});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[p]=E,f.result=p;return;function w({subId:m}){const _={type:d,destroy:async()=>{t.removeListener("sync",_.update)},update:async({oldBlock:A,newBlock:S})=>{const $=S,U=jy(A);(await By({provider:e,fromBlock:U,toBlock:$})).map(Hy).filter(F=>F!==null).forEach(F=>{u(m,F)})}};return t.on("sync",_.update),_}function b({subId:m,filter:_}){return _.on("update",S=>u(m,S)),{type:d,destroy:async()=>await n.uninstallFilter(_.idHex)}}}async function c(l,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=l.params[0],p=r[d];if(!p){f.result=!1;return}delete r[d],await p.destroy(),f.result=!0}function u(l,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:l,result:f}})}function h(){s.removeAllListeners();for(const l in r)r[l].destroy(),delete r[l];i=!0}}function Hy(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(_i,"__esModule",{value:!0});_i.SubscriptionManager=void 0;const Wy=rl,Uy=Fy,Pc=()=>{};class zy{constructor(e){const r=new Wy.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=Uy({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Pc,Pc),r}destroy(){this.subscriptionMiddleware.destroy()}}_i.SubscriptionManager=zy;var Yo=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});vr.CoinbaseWalletProvider=void 0;const qy=Yo(Xt),Gy=Yo(fi),Ns=Nr,Z=dn,Dc=Lr,jc=Ye,Os=mi,Jy=K,j=I,Ls=Yo($p),Qy=wr,Q=tl,Zy=_i,Bc="DefaultChainId",Fc="DefaultJsonRpcUrl";class Yy extends qy.default{constructor(e){var r,n;super(),this._filterPolyfill=new Qy.FilterPolyfill(this),this._subscriptionManager=new Zy.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,j.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(jc.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,j.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,j.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Fc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Fc,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Bc,r.toString(10)),((0,j.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,j.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),h=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await u.requestEthereumAccounts().promise;const l=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=l.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=l.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Jy.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===Z.standardErrorCodes.provider.unsupportedChain?Z.standardErrors.provider.unsupportedChain(e):Z.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ns.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Dc.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(Q.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,Z.serializeError)(i,e)})}catch(n){throw(0,Z.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,Z.serializeError)(n,e)})}catch(n){return Promise.reject((0,Z.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,Z.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,Z.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Z.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Z.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Z.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,j.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Z.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Os.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,Z.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Os.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Z.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Os.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,j.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(jc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Q.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Q.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Q.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Q.JSONRPCMethod.net_version:return this._net_version();case Q.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Q.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Q.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Q.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Q.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Q.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Q.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Q.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Q.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Q.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Q.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Q.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Q.JSONRPCMethod.eth_signTypedData_v4:case Q.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Q.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Q.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Q.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Q.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Q.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Q.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Q.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Q.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Q.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Q.JSONRPCMethod.eth_subscribe:case Q.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,j.ensureAddressString)(e);return this._addresses.map(i=>(0,j.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ns.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,j.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,j.ensureAddressString)(e.to):null,i=e.value!=null?(0,j.ensureBN)(e.value):new Gy.default(0),s=e.data?(0,j.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,j.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,j.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,j.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,j.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,j.ensureBN)(e.gas):null,l=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:h,chainId:l}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Z.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Z.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,j.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Bc);if(!e)return(0,j.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,j.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ns.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Dc.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,j.ensureAddressString)(e[0]),n=(0,j.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,j.ensureBuffer)(e[0]),n=(0,j.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,j.ensureBuffer)(e[0]),n=(0,j.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,j.ensureBuffer)(e[0]),n=(0,j.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,j.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,j.ensureParsedJSONObject)(e[0]),n=(0,j.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ls.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,j.ensureAddressString)(e[0]),n=(0,j.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ls.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,j.ensureAddressString)(e[0]),n=(0,j.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ls.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Z.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Z.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Z.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw Z.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw Z.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw Z.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,j.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,j.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,j.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}vr.CoinbaseWalletProvider=Yy;var Di={},ji={},Rn,L,Vl,Hl,Wt,Vc,Wl,eo,Ul,un={},zl=[],Ky=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Bi=Array.isArray;function mt(t,e){for(var r in e)t[r]=e[r];return t}function ql(t){var e=t.parentNode;e&&e.removeChild(t)}function to(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Rn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return rn(t,o,n,i,null)}function rn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Vl,__i:-1,__u:0};return i==null&&L.vnode!=null&&L.vnode(s),s}function Xy(){return{current:null}}function xn(t){return t.children}function nn(t,e){this.props=t,this.context=e}function Cr(t,e){if(e==null)return t.__?Cr(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Cr(t):null}function Gl(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Gl(t)}}function ro(t){(!t.__d&&(t.__d=!0)&&Wt.push(t)&&!oi.__r++||Vc!==L.debounceRendering)&&((Vc=L.debounceRendering)||Wl)(oi)}function oi(){var t,e,r,n,i,s,o,a,c;for(Wt.sort(eo);t=Wt.shift();)t.__d&&(e=Wt.length,n=void 0,s=(i=(r=t).__v).__e,a=[],c=[],(o=r.__P)&&((n=mt({},i)).__v=i.__v+1,L.vnode&&L.vnode(n),Ko(o,n,i,r.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??Cr(i),!!(32&i.__u),c),n.__.__k[n.__i]=n,Yl(a,n,c),n.__e!=s&&Gl(n)),Wt.length>e&&Wt.sort(eo));oi.__r=0}function Jl(t,e,r,n,i,s,o,a,c,u,h){var l,f,d,p,E,w=n&&n.__k||zl,b=e.length;for(r.__d=c,e1(r,e,w),c=r.__d,l=0;l<b;l++)(d=r.__k[l])!=null&&typeof d!="boolean"&&typeof d!="function"&&(f=d.__i===-1?un:w[d.__i]||un,d.__i=l,Ko(t,d,f,i,s,o,a,c,u,h),p=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Xo(f.ref,null,d),h.push(d.ref,d.__c||p,d)),E==null&&p!=null&&(E=p),65536&d.__u||f.__k===d.__k?c=Ql(d,c,t):typeof d.type=="function"&&d.__d!==void 0?c=d.__d:p&&(c=p.nextSibling),d.__d=void 0,d.__u&=-196609);r.__d=c,r.__e=E}function e1(t,e,r){var n,i,s,o,a,c=e.length,u=r.length,h=u,l=0;for(t.__k=[],n=0;n<c;n++)(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?rn(null,i,null,null,i):Bi(i)?rn(xn,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?rn(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=t1(i,r,o=n+l,h),i.__i=a,s=null,a!==-1&&(h--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&l--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?l++:a>o?h>c-o?l+=a-o:l--:l=a<o&&a==o-1?a-o:0,a!==n+l&&(i.__u|=65536))):(s=r[n])&&s.key==null&&s.__e&&(s.__e==t.__d&&(t.__d=Cr(s)),no(s,s,!1),r[n]=null,h--);if(h)for(n=0;n<u;n++)(s=r[n])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Cr(s)),no(s,s))}function Ql(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=Ql(n[i],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function Zl(t,e){return e=e||[],t==null||typeof t=="boolean"||(Bi(t)?t.some(function(r){Zl(r,e)}):e.push(t)),e}function t1(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function Hc(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Ky.test(e)?r:r+"px"}function zn(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Hc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Hc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?Uc:Wc,s)):t.removeEventListener(e,s?Uc:Wc,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Wc(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(L.event?L.event(t):t)}function Uc(t){return this.l[t.type+!0](L.event?L.event(t):t)}function Ko(t,e,r,n,i,s,o,a,c,u){var h,l,f,d,p,E,w,b,m,_,A,S,$,U,ie,O=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),s=[a=e.__e=r.__e]),(h=L.__b)&&h(e);e:if(typeof O=="function")try{if(b=e.props,m=(h=O.contextType)&&n[h.__c],_=h?m?m.props.value:h.__:n,r.__c?w=(l=e.__c=r.__c).__=l.__E:("prototype"in O&&O.prototype.render?e.__c=l=new O(b,_):(e.__c=l=new nn(b,_),l.constructor=O,l.render=n1),m&&m.sub(l),l.props=b,l.state||(l.state={}),l.context=_,l.__n=n,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),O.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=mt({},l.__s)),mt(l.__s,O.getDerivedStateFromProps(b,l.__s))),d=l.props,p=l.state,l.__v=e,f)O.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(O.getDerivedStateFromProps==null&&b!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(b,_),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(b,l.__s,_)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(l.props=b,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(F){F&&(F.__=e)}),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(b,l.__s,_),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,p,E)})}if(l.context=_,l.props=b,l.__P=t,l.__e=!1,S=L.__r,$=0,"prototype"in O&&O.prototype.render){for(l.state=l.__s,l.__d=!1,S&&S(e),h=l.render(l.props,l.state,l.context),U=0;U<l._sb.length;U++)l.__h.push(l._sb[U]);l._sb=[]}else do l.__d=!1,S&&S(e),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++$<25);l.state=l.__s,l.getChildContext!=null&&(n=mt(mt({},n),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(E=l.getSnapshotBeforeUpdate(d,p)),Jl(t,Bi(ie=h!=null&&h.type===xn&&h.key==null?h.props.children:h)?ie:[ie],e,r,n,i,s,o,a,c,u),l.base=e.__e,e.__u&=-161,l.__h.length&&o.push(l),w&&(l.__E=l.__=null)}catch(F){e.__v=null,c||s!=null?(e.__e=a,e.__u|=c?160:32,s[s.indexOf(a)]=null):(e.__e=r.__e,e.__k=r.__k),L.__e(F,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=r1(r.__e,e,r,n,i,s,o,c,u);(h=L.diffed)&&h(e)}function Yl(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)Xo(r[n],r[++n],r[++n]);L.__c&&L.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){L.__e(s,i.__v)}})}function r1(t,e,r,n,i,s,o,a,c){var u,h,l,f,d,p,E,w=r.props,b=e.props,m=e.type;if(m==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((d=s[u])&&"setAttribute"in d==!!m&&(m?d.localName===m:d.nodeType===3)){t=d,s[u]=null;break}}if(t==null){if(m===null)return document.createTextNode(b);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,b.is&&b),s=null,a=!1}if(m===null)w===b||a&&t.data===b||(t.data=b);else{if(s=s&&Rn.call(t.childNodes),w=r.props||un,!a&&s!=null)for(w={},u=0;u<t.attributes.length;u++)w[(d=t.attributes[u]).name]=d.value;for(u in w)d=w[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=d:u==="key"||u in b||zn(t,u,null,d,i));for(u in b)d=b[u],u=="children"?f=d:u=="dangerouslySetInnerHTML"?h=d:u=="value"?p=d:u=="checked"?E=d:u==="key"||a&&typeof d!="function"||w[u]===d||zn(t,u,d,w[u],i);if(h)a||l&&(h.__html===l.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(l&&(t.innerHTML=""),Jl(t,Bi(f)?f:[f],e,r,n,i&&m!=="foreignObject",s,o,s?s[0]:r.__k&&Cr(r,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&ql(s[u]);a||(u="value",p!==void 0&&(p!==t[u]||m==="progress"&&!p||m==="option"&&p!==w[u])&&zn(t,u,p,w[u],!1),u="checked",E!==void 0&&E!==t[u]&&zn(t,u,E,w[u],!1))}return t}function Xo(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){L.__e(n,r)}}function no(t,e,r){var n,i;if(L.unmount&&L.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Xo(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){L.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&no(n[i],e,r||typeof t.type!="function");r||t.__e==null||ql(t.__e),t.__=t.__e=t.__d=void 0}function n1(t,e,r){return this.constructor(t,r)}function Kl(t,e,r){var n,i,s,o;L.__&&L.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],Ko(e,t=(!n&&r||e).__k=to(xn,null,[t]),i||un,un,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Rn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),Yl(s,t,o)}function Xl(t,e){Kl(t,e,Xl)}function i1(t,e,r){var n,i,s,o,a=mt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Rn.call(arguments,2):r),rn(t.type,a,n||t.key,i||t.ref,null)}function s1(t,e){var r={__c:e="__cC"+Ul++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,ro(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Rn=zl.slice,L={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Vl=0,Hl=function(t){return t!=null&&t.constructor==null},nn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=mt({},this.state),typeof t=="function"&&(t=t(mt({},r),this.props)),t&&mt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ro(this))},nn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ro(this))},nn.prototype.render=xn,Wt=[],Wl=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eo=function(t,e){return t.__v.__b-e.__v.__b},oi.__r=0,Ul=0;const o1=Object.freeze(Object.defineProperty({__proto__:null,Component:nn,Fragment:xn,cloneElement:i1,createContext:s1,createElement:to,createRef:Xy,h:to,hydrate:Xl,get isValidElement(){return Hl},get options(){return L},render:Kl,toChildArray:Zl},Symbol.toStringTag,{value:"Module"})),Pe=Kt(o1);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var io=function(t,e){return io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},io(t,e)};function g(t,e){io(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ir(t){return typeof t=="function"}var zc=!1,Fe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}zc=t},get useDeprecatedSynchronousErrorHandling(){return zc}};function hr(t){setTimeout(function(){throw t},0)}var ai={closed:!0,next:function(t){},error:function(t){if(Fe.useDeprecatedSynchronousErrorHandling)throw t;hr(t)},complete:function(){}},xe=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function ea(t){return t!==null&&typeof t=="object"}var a1=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),sn=a1,ne=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Ir(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(l){e=l instanceof sn?qc(l.errors):[l]}}if(xe(o))for(var a=-1,u=o.length;++a<u;){var h=o[a];if(ea(h))try{h.unsubscribe()}catch(f){e=e||[],f instanceof sn?e=e.concat(qc(f.errors)):e.push(f)}}if(e)throw new sn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function qc(t){return t.reduce(function(e,r){return e.concat(r instanceof sn?r.errors:r)},[])}var ci=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),k=function(t){g(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=ai;break;case 1:if(!r){s.destination=ai;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Gc(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Gc(s,r,n,i);break}return s}return e.prototype[ci]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ne),Gc=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Ir(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==ai&&(c=Object.create(n),Ir(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Fe.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Fe.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):hr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;hr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Fe.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Fe.useDeprecatedSynchronousErrorHandling)throw i;hr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Fe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Fe.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(hr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(k);function ta(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof k?t=n:t=null}return!0}function c1(t,e,r){if(t){if(t instanceof k)return t;if(t[ci])return t[ci]()}return!t&&!e&&!r?new k(ai):new k(t,e,r)}var Br=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Nt(t){return t}function so(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return eh(t)}function eh(t){return t.length===0?Nt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var B=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=c1(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Fe.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Fe.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Fe.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ta(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Jc(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Br]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:eh(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Jc(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Jc(t){if(t||(t=Fe.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var u1=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),xt=u1,th=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ne),rh=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(k),me=function(t){g(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ci]=function(){return new rh(this)},e.prototype.lift=function(r){var n=new Qc(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new xt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new xt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new xt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new xt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new xt;return this.hasError?(r.error(this.thrownError),ne.EMPTY):this.isStopped?(r.complete(),ne.EMPTY):(this.observers.push(r),new th(this,r))},e.prototype.asObservable=function(){var r=new B;return r.source=this,r},e.create=function(r,n){return new Qc(r,n)},e}(B),Qc=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ne.EMPTY},e}(me);function ra(){return function(e){return e.lift(new l1(e))}}var l1=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new h1(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),h1=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(k),nh=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ne,r.add(this.source.subscribe(new d1(this.getSubject(),this))),r.closed&&(this._connection=null,r=ne.EMPTY)),r},e.prototype.refCount=function(){return ra()(this)},e}(B),f1=function(){var t=nh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),d1=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(rh);function p1(t,e,r,n){return function(i){return i.lift(new g1(t,e,r,n))}}var g1=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new b1(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),b1=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new me,i.set(n,s);var a=new oo(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new oo(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new m1(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(k),m1=function(t){g(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(k),oo=function(t){g(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ne,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new v1(s)),n.add(o.subscribe(r)),n},e}(B),v1=function(t){g(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ne),ih=function(t){g(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(me),y1=function(t){g(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ne),kn=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(y1),_1=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(kn),ao=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Mn=function(t){g(e,t);function e(r,n){n===void 0&&(n=ao.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ao),w1=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Mn),sh=new w1(_1),oh=sh,Rr=new B(function(t){return t.complete()});function Fr(t){return t?S1(t):Rr}function S1(t){return new B(function(e){return t.schedule(function(){return e.complete()})})}function $e(t){return t&&typeof t.schedule=="function"}var ah=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function na(t,e){return new B(function(r){var n=new ne,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function An(t,e){return e?na(t,e):new B(ah(t))}function Fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return $e(r)?(t.pop(),na(t,r)):An(t)}function ia(t,e){return e?new B(function(r){return e.schedule(E1,0,{error:t,subscriber:r})}):new B(function(r){return r.error(t)})}function E1(t){var e=t.error,r=t.subscriber;r.error(e)}var co;co||(co={});var vt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Fi(this.value);case"E":return ia(this.error);case"C":return Fr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function C1(t,e){return e===void 0&&(e=0),function(n){return n.lift(new I1(t,e))}}var I1=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new ch(e,this.scheduler,this.delay))},t}(),ch=function(t){g(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new R1(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(vt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(vt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(vt.createComplete()),this.unsubscribe()},e}(k),R1=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),sa=function(t){g(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new x1(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new xt;if(this.isStopped||this.hasError?a=ne.EMPTY:(this.observers.push(r),a=new th(this,r)),s&&r.add(r=new ch(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||oh).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(me),x1=function(){function t(e,r){this.time=e,this.value=r}return t}(),Vr=function(t){g(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ne.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ne.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(me),k1=1,M1=function(){return Promise.resolve()}(),uo={};function Zc(t){return t in uo?(delete uo[t],!0):!1}var Yc={setImmediate:function(t){var e=k1++;return uo[e]=!0,M1.then(function(){return Zc(e)&&t()}),e},clearImmediate:function(t){Zc(t)}},A1=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Yc.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Yc.clearImmediate(n),r.scheduled=void 0)},e}(kn),T1=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Mn),uh=new T1(A1),Kn=uh,lh=new Mn(kn),ke=lh,N1=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(kn),O1=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Mn),hh=new O1(N1),L1=hh,$1=function(t){g(e,t);function e(r,n){r===void 0&&(r=fh),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Mn),fh=function(t){g(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(kn);function st(){}function P1(t){return!!t&&(t instanceof B||typeof t.lift=="function"&&typeof t.subscribe=="function")}var D1=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),xr=D1,j1=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Tn=j1,B1=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),dh=B1;function ze(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F1(t,e))}}var F1=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new V1(e,this.project,this.thisArg))},t}(),V1=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(k);function ph(t,e,r){if(e)if($e(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return ph(t,r).apply(void 0,n).pipe(ze(function(s){return xe(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new B(function(c){if(r){var h={args:n,subscriber:c,params:a};return r.schedule(H1,0,h)}else{if(!o){o=new Vr;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];o.next(l.length<=1?l[0]:l),o.complete()};try{t.apply(s,n.concat([u]))}catch(l){ta(o)?o.error(l):console.warn(l)}}return o.subscribe(c)}})}}function H1(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Vr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var f=h.length<=1?h[0]:h;e.add(a.schedule(W1,0,{value:f,subject:c}))};try{s.apply(o,r.concat([u]))}catch(h){c.error(h)}}this.add(c.subscribe(n))}function W1(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function gh(t,e,r){if(e)if($e(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return gh(t,r).apply(void 0,n).pipe(ze(function(s){return xe(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new B(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(U1,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Vr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var f=h.shift();if(f){c.error(f);return}c.next(h.length<=1?h[0]:h),c.complete()};try{t.apply(a,n.concat([u]))}catch(h){ta(c)?c.error(h):console.warn(h)}}return c.subscribe(o)})}}function U1(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Vr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var f=h.shift();if(f)e.add(a.schedule(Kc,0,{err:f,subject:c}));else{var d=h.length<=1?h[0]:h;e.add(a.schedule(z1,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(h){this.add(a.schedule(Kc,0,{err:h,subject:c}))}}this.add(c.subscribe(n))}function z1(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Kc(t){var e=t.err,r=t.subject;r.error(e)}var nr=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(k),q1=function(t){g(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(k),G1=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,hr),e}};function J1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ot=J1(),Q1=function(t){return function(e){var r=t[Ot]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Z1=function(t){return function(e){var r=t[Br]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},bh=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function mh(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ln=function(t){if(t&&typeof t[Br]=="function")return Z1(t);if(bh(t))return ah(t);if(mh(t))return G1(t);if(t&&typeof t[Ot]=="function")return Q1(t);var e=ea(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function yt(t,e,r,n,i){if(i===void 0&&(i=new q1(t,r,n)),!i.closed)return e instanceof B?e.subscribe(i):ln(e)(i)}var Xc={};function Y1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return $e(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&xe(t[0])&&(t=t[0]),An(t,n).lift(new oa(r))}var oa=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new K1(e,this.resultSelector))},t}(),K1=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Xc),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(yt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Xc?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(nr);function X1(t,e){return new B(function(r){var n=new ne;return n.add(e.schedule(function(){var i=t[Br]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function e_(t,e){return new B(function(r){var n=new ne;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function t_(t,e){if(!t)throw new Error("Iterable cannot be null");return new B(function(r){var n=new ne,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Ot](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function r_(t){return t&&typeof t[Br]=="function"}function n_(t){return t&&typeof t[Ot]=="function"}function vh(t,e){if(t!=null){if(r_(t))return X1(t,e);if(mh(t))return e_(t,e);if(bh(t))return na(t,e);if(n_(t)||typeof t=="string")return t_(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function wt(t,e){return e?vh(t,e):t instanceof B?t:new B(ln(t))}var se=function(t){g(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(k),oe=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(k);function ae(t,e){if(!e.closed){if(t instanceof B)return t.subscribe(e);var r;try{r=ln(t)(e)}catch(n){e.error(n)}return r}}function Zt(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Zt(function(i,s){return wt(t(i,s)).pipe(ze(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new i_(t,r))})}var i_=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new s_(e,this.project,this.concurrent))},t}(),s_=function(t){g(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(oe),o_=Zt;function aa(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Zt(Nt,t)}function yh(){return aa(1)}function hn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return yh()(Fi.apply(void 0,t))}function ca(t){return new B(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?wt(r):Fr();return n.subscribe(e)})}function a_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(xe(r))return qn(r,null);if(ea(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return qn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&xe(t[0])?t[0]:t,qn(t,null).pipe(ze(function(s){return i.apply(void 0,s)}))}return qn(t,null)}function qn(t,e){return new B(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var h=wt(t[u]),l=!1;r.add(h.subscribe({next:function(f){l||(l=!0,o++),i[u]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!l)&&(o===n&&r.next(e?e.reduce(function(f,d,p){return f[d]=i[p],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function _h(t,e,r,n){return Ir(r)&&(n=r,r=void 0),n?_h(t,e,r).pipe(ze(function(i){return xe(i)?n.apply(void 0,i):n(i)})):new B(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}wh(t,e,s,i,r)})}function wh(t,e,r,n,i){var s;if(l_(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(u_(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(c_(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,h=t.length;u<h;u++)wh(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function c_(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function u_(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function l_(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Sh(t,e,r){return r?Sh(t,e).pipe(ze(function(n){return xe(n)?r.apply(void 0,n):r(n)})):new B(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Ir(e))return function(){return e(i,s)}})}function h_(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Nt,i=a.scheduler}else n===void 0||$e(n)?(o=t,s=Nt,i=n):(o=t,s=n);return new B(function(c){var u=o;if(i)return i.schedule(f_,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var h=void 0;try{h=e(u)}catch(f){c.error(f);return}if(!h){c.complete();break}}var l=void 0;try{l=s(u)}catch(f){c.error(f);return}if(c.next(l),c.closed)break;try{u=r(u)}catch(f){c.error(f);return}}while(!0)})}function f_(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function d_(t,e,r){return e===void 0&&(e=Rr),r===void 0&&(r=Rr),ca(function(){return t()?e:r})}function kr(t){return!xe(t)&&t-parseFloat(t)+1>=0}function p_(t,e){return t===void 0&&(t=0),e===void 0&&(e=ke),(!kr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=ke),new B(function(r){return r.add(e.schedule(g_,t,{subscriber:r,counter:0,period:t})),r})}function g_(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Eh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return $e(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof B?t[0]:aa(r)(An(t,n))}var Ch=new B(st);function b_(){return Ch}function lo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Rr;var r=t[0],n=t.slice(1);return t.length===1&&xe(r)?lo.apply(void 0,r):new B(function(i){var s=function(){return i.add(lo.apply(void 0,n).subscribe(i))};return wt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function m_(t,e){return e?new B(function(r){var n=Object.keys(t),i=new ne;return i.add(e.schedule(v_,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new B(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function v_(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Ih(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Lt(t,e){return function(n){return n.lift(new y_(t,e))}}var y_=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new __(e,this.predicate,this.thisArg))},t}(),__=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(k);function w_(t,e,r){return[Lt(e,r)(new B(ln(t))),Lt(Ih(e,r))(new B(ln(t)))]}function Rh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(xe(t[0]))t=t[0];else return t[0];return An(t,void 0).lift(new S_)}var S_=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new E_(e))},t}(),E_=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=yt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(nr);function C_(t,e,r){return t===void 0&&(t=0),new B(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(I_,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function I_(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function xh(t,e,r){t===void 0&&(t=0);var n=-1;return kr(e)?n=Number(e)<1&&1||Number(e):$e(e)&&(r=e),$e(r)||(r=ke),new B(function(i){var s=kr(t)?t:+t-r.now();return r.schedule(R_,s,{index:0,period:n,subscriber:i})})}function R_(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function x_(t,e){return new B(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?wt(i):Rr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function kh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),An(t,void 0).lift(new Mh(r))}var Mh=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new k_(e,this.resultSelector))},t}(),k_=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;xe(r)?n.push(new A_(r)):typeof r[Ot]=="function"?n.push(new M_(r[Ot]())):n.push(new T_(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(k),M_=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),A_=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Ot]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),T_=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Ot]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return ae(this.observable,new se(this))},e}(oe);const N_=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:xr,AsyncSubject:Vr,BehaviorSubject:ih,ConnectableObservable:nh,EMPTY:Rr,EmptyError:Tn,GroupedObservable:oo,NEVER:Ch,Notification:vt,get NotificationKind(){return co},ObjectUnsubscribedError:xt,Observable:B,ReplaySubject:sa,Scheduler:ao,Subject:me,Subscriber:k,Subscription:ne,TimeoutError:dh,UnsubscriptionError:sn,VirtualAction:fh,VirtualTimeScheduler:$1,animationFrame:L1,animationFrameScheduler:hh,asap:Kn,asapScheduler:uh,async:ke,asyncScheduler:lh,bindCallback:ph,bindNodeCallback:gh,combineLatest:Y1,concat:hn,config:Fe,defer:ca,empty:Fr,forkJoin:a_,from:wt,fromEvent:_h,fromEventPattern:Sh,generate:h_,identity:Nt,iif:d_,interval:p_,isObservable:P1,merge:Eh,never:b_,noop:st,observable:Br,of:Fi,onErrorResumeNext:lo,pairs:m_,partition:w_,pipe:so,queue:oh,queueScheduler:sh,race:Rh,range:C_,scheduled:vh,throwError:ia,timer:xh,using:x_,zip:kh},Symbol.toStringTag,{value:"Module"})),Vi=Kt(N_);var Hi={};function Ah(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Ah(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function eu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Ah(t))&&(n&&(n+=" "),n+=e);return n}const O_=Object.freeze(Object.defineProperty({__proto__:null,clsx:eu,default:eu},Symbol.toStringTag,{value:"Module"})),Wi=Kt(O_);var _t,Y,$s,tu,Mr=0,Th=[],Xn=[],ru=L.__b,nu=L.__r,iu=L.diffed,su=L.__c,ou=L.unmount;function ir(t,e){L.__h&&L.__h(Y,t,Mr||e),Mr=0;var r=Y.__H||(Y.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Xn}),r.__[t]}function Nh(t){return Mr=1,Oh($h,t)}function Oh(t,e,r){var n=ir(_t++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):$h(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=Y,!Y.u)){var i=function(a,c,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(f){return f.__c});if(h.every(function(f){return!f.__N}))return!s||s.call(this,a,c,u);var l=!1;return h.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(l=!0)}}),!(!l&&n.__c.props===a)&&(!s||s.call(this,a,c,u))};Y.u=!0;var s=Y.shouldComponentUpdate,o=Y.componentWillUpdate;Y.componentWillUpdate=function(a,c,u){if(this.__e){var h=s;s=void 0,i(a,c,u),s=h}o&&o.call(this,a,c,u)},Y.shouldComponentUpdate=i}return n.__N||n.__}function L_(t,e){var r=ir(_t++,3);!L.__s&&la(r.__H,e)&&(r.__=t,r.i=e,Y.__H.__h.push(r))}function Lh(t,e){var r=ir(_t++,4);!L.__s&&la(r.__H,e)&&(r.__=t,r.i=e,Y.__h.push(r))}function $_(t){return Mr=5,ua(function(){return{current:t}},[])}function P_(t,e,r){Mr=6,Lh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function ua(t,e){var r=ir(_t++,7);return la(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function D_(t,e){return Mr=8,ua(function(){return t},e)}function j_(t){var e=Y.context[t.__c],r=ir(_t++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Y)),e.props.value):t.__}function B_(t,e){L.useDebugValue&&L.useDebugValue(e?e(t):t)}function F_(t){var e=ir(_t++,10),r=Nh();return e.__=t,Y.componentDidCatch||(Y.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function V_(){var t=ir(_t++,11);if(!t.__){for(var e=Y.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function H_(){for(var t;t=Th.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ei),t.__H.__h.forEach(ho),t.__H.__h=[]}catch(e){t.__H.__h=[],L.__e(e,t.__v)}}L.__b=function(t){Y=null,ru&&ru(t)},L.__r=function(t){nu&&nu(t),_t=0;var e=(Y=t.__c).__H;e&&($s===Y?(e.__h=[],Y.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Xn,r.__N=r.i=void 0})):(e.__h.forEach(ei),e.__h.forEach(ho),e.__h=[],_t=0)),$s=Y},L.diffed=function(t){iu&&iu(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Th.push(e)!==1&&tu===L.requestAnimationFrame||((tu=L.requestAnimationFrame)||W_)(H_)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Xn&&(r.__=r.__V),r.i=void 0,r.__V=Xn})),$s=Y=null},L.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ei),r.__h=r.__h.filter(function(n){return!n.__||ho(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],L.__e(n,r.__v)}}),su&&su(t,e)},L.unmount=function(t){ou&&ou(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ei(n)}catch(i){e=i}}),r.__H=void 0,e&&L.__e(e,r.__v))};var au=typeof requestAnimationFrame=="function";function W_(t){var e,r=function(){clearTimeout(n),au&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);au&&(e=requestAnimationFrame(r))}function ei(t){var e=Y,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Y=e}function ho(t){var e=Y;t.__c=t.__(),Y=e}function la(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function $h(t,e){return typeof e=="function"?e(t):e}const U_=Object.freeze(Object.defineProperty({__proto__:null,useCallback:D_,useContext:j_,useDebugValue:B_,useEffect:L_,useErrorBoundary:F_,useId:V_,useImperativeHandle:P_,useLayoutEffect:Lh,useMemo:ua,useReducer:Oh,useRef:$_,useState:Nh},Symbol.toStringTag,{value:"Module"})),Nn=Kt(U_);var lt={},Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.CloseIcon=void 0;const cu=Pe;function z_(t){return(0,cu.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,cu.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ui.CloseIcon=z_;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.QRCodeIcon=void 0;const rt=Pe;function q_(t){return(0,rt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,rt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,rt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,rt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,rt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,rt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,rt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,rt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,rt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,rt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}zi.QRCodeIcon=q_;var da={};Object.defineProperty(da,"__esModule",{value:!0});const G_=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;da.default=G_;var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.StatusDotIcon=void 0;const uu=Pe;function J_(t){return(0,uu.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,uu.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}qi.StatusDotIcon=J_;var Gi={};function Ph(t){this.mode=Oe.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ph.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ht(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ht.prototype={addData:function(t){var e=new Ph(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ht.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=te.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=te.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=te.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=te.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=te.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ht.PAD0=236;ht.PAD1=17;ht.createData=function(t,e,r){for(var n=at.getRSBlocks(t,e),i=new Dh,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),te.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ht.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ht.PAD1,8);return ht.createBytes(i,n)};ht.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var l=te.getErrorCorrectPolynomial(u),f=new mr(s[a],l.getLength()-1),d=f.mod(l);o[a]=new Array(l.getLength()-1);for(var h=0;h<o[a].length;h++){var p=h+d.getLength()-o[a].length;o[a][h]=p>=0?d.get(p):0}}for(var E=0,h=0;h<e.length;h++)E+=e[h].totalCount;for(var w=new Array(E),b=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(w[b++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(w[b++]=o[a][h]);return w};var Oe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Mt={L:1,M:0,Q:3,H:2},St={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},te={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;te.getBCHDigit(e)-te.getBCHDigit(te.G15)>=0;)e^=te.G15<<te.getBCHDigit(e)-te.getBCHDigit(te.G15);return(t<<10|e)^te.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;te.getBCHDigit(e)-te.getBCHDigit(te.G18)>=0;)e^=te.G18<<te.getBCHDigit(e)-te.getBCHDigit(te.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return te.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case St.PATTERN000:return(e+r)%2==0;case St.PATTERN001:return e%2==0;case St.PATTERN010:return r%3==0;case St.PATTERN011:return(e+r)%3==0;case St.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case St.PATTERN101:return e*r%2+e*r%3==0;case St.PATTERN110:return(e*r%2+e*r%3)%2==0;case St.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new mr([1],0),r=0;r<t;r++)e=e.multiply(new mr([1,be.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Oe.MODE_NUMBER:return 10;case Oe.MODE_ALPHA_NUM:return 9;case Oe.MODE_8BIT_BYTE:return 8;case Oe.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Oe.MODE_NUMBER:return 12;case Oe.MODE_ALPHA_NUM:return 11;case Oe.MODE_8BIT_BYTE:return 16;case Oe.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Oe.MODE_NUMBER:return 14;case Oe.MODE_ALPHA_NUM:return 13;case Oe.MODE_8BIT_BYTE:return 16;case Oe.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var l=Math.abs(100*h/e/e-50)/5;return r+=l*10,r}},be={glog:function(t){if(t<1)throw new Error("glog("+t+")");return be.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return be.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ye=0;ye<8;ye++)be.EXP_TABLE[ye]=1<<ye;for(var ye=8;ye<256;ye++)be.EXP_TABLE[ye]=be.EXP_TABLE[ye-4]^be.EXP_TABLE[ye-5]^be.EXP_TABLE[ye-6]^be.EXP_TABLE[ye-8];for(var ye=0;ye<255;ye++)be.LOG_TABLE[be.EXP_TABLE[ye]]=ye;function mr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}mr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=be.gexp(be.glog(this.get(r))+be.glog(t.get(n)));return new mr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=be.glog(this.get(0))-be.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=be.gexp(be.glog(t.get(n))+e);return new mr(r,0).mod(t)}};function at(t,e){this.totalCount=t,this.dataCount=e}at.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];at.getRSBlocks=function(t,e){var r=at.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new at(a,c));return i};at.getRsBlockTable=function(t,e){switch(e){case Mt.L:return at.RS_BLOCK_TABLE[(t-1)*4+0];case Mt.M:return at.RS_BLOCK_TABLE[(t-1)*4+1];case Mt.Q:return at.RS_BLOCK_TABLE[(t-1)*4+2];case Mt.H:return at.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Dh(){this.buffer=[],this.length=0}Dh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ps=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function jh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var h=i(c),l=1,f=0,d=0,p=Ps.length;d<=p;d++){var E=Ps[d];if(!E)throw new Error("Content too long: expected "+f+" but got "+h);switch(u){case"L":f=E[0];break;case"M":f=E[1];break;case"Q":f=E[2];break;case"H":f=E[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(h<=f)break;l++}if(l>Ps.length)throw new Error("Content too long");return l}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ht(o,a),this.qrcode.addData(s),this.qrcode.make()}jh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),h=a/(c+2*e.padding),l=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,p=typeof e.predefined<"u"?!!e.predefined:!1,E=p?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",w=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,b="",m="",_=0;_<c;_++)for(var A=0;A<c;A++){var S=r[A][_];if(S){var $=A*u+e.padding*u,U=_*h+e.padding*h;if(f){var ie=$;$=U,U=ie}if(l){var O=u+$,F=h+U;$=Number.isInteger($)?Number($):$.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),O=Number.isInteger(O)?Number(O):O.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),m+="M"+$+","+U+" V"+F+" H"+O+" V"+U+" H"+$+" Z "}else p?b+=i+'<use x="'+$.toString()+'" y="'+U.toString()+'" href="#qrmodule" />'+s:b+=i+'<rect x="'+$.toString()+'" y="'+U.toString()+'" width="'+u+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}l&&(b=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let ue="";if(this.options.image!==void 0&&this.options.image.svg){const y=o*this.options.image.width/100,v=a*this.options.image.height/100,M=o/2-y/2,C=a/2-v/2;ue+=`<svg x="${M}" y="${C}" width="${y}" height="${v}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ue+=this.options.image.svg+s,ue+="</svg>"}var z="";switch(t.container){case"svg":d&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,z+=E+w+b,z+=ue,z+="</svg>";break;case"svg-viewbox":d&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,z+=E+w+b,z+=ue,z+="</svg>";break;case"g":z+='<g width="'+o+'" height="'+a+'">'+s,z+=E+w+b,z+=ue,z+="</g>";break;default:z+=(E+w+b+ue).replace(/^\s+/,"");break}return z};var Q_=jh,Z_=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.QRCode=void 0;const Y_=Pe,lu=Nn,K_=Z_(Q_),X_=t=>{const[e,r]=(0,lu.useState)("");return(0,lu.useEffect)(()=>{var n,i;const s=new K_.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Y_.h)("img",{src:e,alt:"QR Code"}):null};Gi.QRCode=X_;var Ji={},ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var ew=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Spinner=void 0;const Gn=Pe,tw=ew(ga),rw=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Gn.h)("div",{class:"-cbwsdk-spinner"},(0,Gn.h)("style",null,tw.default),(0,Gn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Gn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ji.Spinner=rw;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Hr=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lt,"__esModule",{value:!0});lt.CoinbaseAppSteps=lt.CoinbaseWalletSteps=lt.ConnectItem=lt.ConnectContent=void 0;const He=Hr(Wi),N=Pe,hu=Nn,nw=I,iw=Or,sw=Ui,ow=Hr(ha),aw=Hr(fa),Bh=zi,cw=Hr(da),uw=Hr(pa),lw=qi,hw=Gi,fw=Ji,dw=Hr(ba),fu={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:aw.default,steps:Vh},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:ow.default,steps:Hh}},pw=t=>{switch(t){case"coinbase-app":return cw.default;case"coinbase-wallet-app":default:return uw.default}},fo=t=>t==="light"?"#FFFFFF":"#0A0B0D";function gw(t){const{theme:e}=t,[r,n]=(0,hu.useState)("coinbase-wallet-app"),i=(0,hu.useCallback)(u=>{n(u)},[]),s=(0,nw.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=fu[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,N.h)("div",{"data-testid":"connect-content",class:(0,He.default)("-cbwsdk-connect-content",e)},(0,N.h)("style",null,dw.default),(0,N.h)("div",{class:"-cbwsdk-connect-content-header"},(0,N.h)("h2",{class:(0,He.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,N.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,N.h)(sw.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,N.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,N.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,N.h)("div",null,Object.entries(fu).map(([u,h])=>(0,N.h)(Fh,{key:u,title:h.title,description:h.description,icon:h.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,N.h)("div",{class:(0,He.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,N.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,N.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,N.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,N.h)(hw.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:pw(r),width:25,height:25}}),(0,N.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:iw.LIB_VERSION}),(0,N.h)("input",{type:"hidden",value:s})),(0,N.h)(a,{theme:e}),!t.isConnected&&(0,N.h)("div",{"data-testid":"connecting-spinner",class:(0,He.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,N.h)(fw.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,N.h)("p",null,"Connecting...")))))}lt.ConnectContent=gw;function Fh({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,N.h)("div",{onClick:s,class:(0,He.default)("-cbwsdk-connect-item",i,{selected:n})},(0,N.h)("div",null,(0,N.h)("img",{src:r,alt:t})),(0,N.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,N.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,N.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}lt.ConnectItem=Fh;function Vh({theme:t}){return(0,N.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,N.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,N.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,N.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,N.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,N.h)("span",null,"Tap ",(0,N.h)("strong",null,"Scan")," "),(0,N.h)("span",{class:(0,He.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,N.h)(Bh.QRCodeIcon,{fill:fo(t)})))))}lt.CoinbaseWalletSteps=Vh;function Hh({theme:t}){return(0,N.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,N.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,N.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,N.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,N.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,N.h)("span",null,"Tap ",(0,N.h)("strong",null,"More")),(0,N.h)("span",{class:(0,He.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,N.h)(lw.StatusDotIcon,{fill:fo(t)})),(0,N.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,N.h)("strong",null,"Scan")),(0,N.h)("span",{class:(0,He.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,N.h)(Bh.QRCodeIcon,{fill:fo(t)})))))}lt.CoinbaseAppSteps=Hh;var Qi={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ArrowLeftIcon=void 0;const du=Pe;function bw(t){return(0,du.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,du.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Zi.ArrowLeftIcon=bw;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.LaptopIcon=void 0;const Ds=Pe;function mw(t){return(0,Ds.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ds.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ds.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Yi.LaptopIcon=mw;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.SafeIcon=void 0;const pu=Pe;function vw(t){return(0,pu.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,pu.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Ki.SafeIcon=vw;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Wh=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.TryExtensionContent=void 0;const Pt=Wh(Wi),he=Pe,js=Nn,yw=Zi,_w=Yi,ww=Ki,Sw=Wh(ma);function Ew({theme:t}){const[e,r]=(0,js.useState)(!1),n=(0,js.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,js.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,he.h)("div",{class:(0,Pt.default)("-cbwsdk-try-extension",t)},(0,he.h)("style",null,Sw.default),(0,he.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,he.h)("h3",{class:(0,Pt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,he.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,he.h)("button",{class:(0,Pt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,he.h)("div",null,!e&&(0,he.h)(yw.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,he.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,he.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,he.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,he.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,he.h)("span",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,he.h)(_w.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,he.h)("div",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,he.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,he.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,he.h)("span",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,he.h)(ww.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,he.h)("div",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Qi.TryExtensionContent=Ew;var va={};Object.defineProperty(va,"__esModule",{value:!0});va.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Uh=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.ConnectDialog=void 0;const Bs=Uh(Wi),Dt=Pe,Fs=Nn,Cw=lt,Iw=Qi,Rw=Uh(va),xw=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Fs.useState)(!e),[s,o]=(0,Fs.useState)(!e);(0,Fs.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Dt.h)("div",{class:(0,Bs.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Dt.h)("style",null,Rw.default),(0,Dt.h)("div",{class:(0,Bs.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Dt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Dt.h)("div",{class:(0,Bs.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Dt.h)(Cw.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Dt.h)(Iw.TryExtensionContent,{theme:a}))))};Hi.ConnectDialog=xw;Object.defineProperty(ji,"__esModule",{value:!0});ji.LinkFlow=void 0;const Vs=Pe,gu=Vi,kw=Hi;class Mw{constructor(e){this.extensionUI$=new gu.BehaviorSubject({}),this.subscriptions=new gu.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Vs.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Vs.render)((0,Vs.h)(kw.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}ji.LinkFlow=Mw;var zh={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=x&&x.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Wi),n=Pe,i=Nn,s=e(ya),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(l){switch(l){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const d=this.nextItemKey++;return this.items.set(d,f),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:f}))))),this.root)}}t.Snackbar=c;const u=l=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},l.children));t.SnackbarContainer=u;const h=({autoExpand:l,message:f,menuItems:d,appSrc:p})=>{const[E,w]=(0,i.useState)(!0),[b,m]=(0,i.useState)(l??!1);(0,i.useEffect)(()=>{const A=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{m(!0)},1e4)];return()=>{A.forEach(window.clearTimeout)}});const _=()=>{m(!b)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",E&&"-cbwsdk-snackbar-instance-hidden",b&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:_},(0,n.h)("img",{src:a(p),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!b&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((A,S)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:A.onClick,key:S},(0,n.h)("svg",{width:A.svgWidth,height:A.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":A.defaultFillRule,"clip-rule":A.defaultClipRule,d:A.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},A.info)))))};t.SnackbarInstance=h})(zh);var Xi={},_a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Aw=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.injectCssReset=void 0;const Tw=Aw(_a);function Nw(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Tw.default)),document.documentElement.appendChild(t)}Xi.injectCssReset=Nw;Object.defineProperty(Di,"__esModule",{value:!0});Di.WalletSDKUI=void 0;const Ow=ji,Lw=zh,$w=Xi;class Pw{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new Lw.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Ow.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,$w.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Di.WalletSDKUI=Pw;var es={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});var fr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(fr||(fr={}));function qh(t,e,r){if(!r||typeof r.value!==fr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:fr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:fr.boolTrue,writable:fr.boolTrue}),n}}}ts.bind=qh;ts.default=qh;function Gh(t){return function(r){return r.lift(new Dw(t))}}var Dw=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new jw(e,this.durationSelector))},t}(),jw=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=ae(n,new se(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(oe);function Bw(t,e){return e===void 0&&(e=ke),Gh(function(){return xh(t,e)})}function Fw(t){return function(r){return r.lift(new Vw(t))}}var Vw=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Hw(e,this.closingNotifier))},t}(),Hw=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(ae(n,new se(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(oe);function Ww(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Uw(t,e))}}var Uw=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=zw:this.subscriberClass=qw}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),zw=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(k),qw=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(k);function Gw(t){var e=arguments.length,r=ke;$e(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Jw(t,n,i,r))}}var Jw=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Zw(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Qw=function(){function t(){this.buffer=[]}return t}(),Zw=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(bu,n,u))}else{var h={subscriber:a,context:c},l={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Jh,n,h)),a.add(o.schedule(Yw,i,l))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(bu,i,s))}},e.prototype.openContext=function(){var r=new Qw;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(k);function bu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Yw(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Jh,r,{subscriber:n,context:s})),o.schedule(t,e))}function Jh(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Kw(t,e){return function(n){return n.lift(new Xw(t,e))}}var Xw=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new eS(e,this.openings,this.closingSelector))},t}(),eS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(yt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ne,o={buffer:i,subscription:s};n.push(o);var a=yt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(nr);function tS(t){return function(e){return e.lift(new rS(t))}}var rS=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new nS(e,this.closingSelector))},t}(),nS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ne,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(ae(i,new se(this))),this.subscribing=!1},e}(oe);function iS(t){return function(r){var n=new sS(t),i=r.lift(n);return n.caught=i}}var sS=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new oS(e,this.selector,this.caught))},t}(),oS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new se(this);this.add(i);var s=ae(n,i);s!==i&&this.add(s)}},e}(oe);function aS(t){return function(e){return e.lift(new oa(t))}}function cS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&xe(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(wt([n].concat(t)),new oa(r))}}function uS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(hn.apply(void 0,[r].concat(t)))}}function Qh(t,e){return Zt(t,e,1)}function lS(t,e){return Qh(function(){return t},e)}function hS(t){return function(e){return e.lift(new fS(t,e))}}var fS=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new dS(e,this.predicate,this.source))},t}(),dS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(k);function pS(t){return function(e){return e.lift(new gS(t))}}var gS=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new bS(e,this.durationSelector))},t}(),bS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=ae(n,new se(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(oe);function mS(t,e){return e===void 0&&(e=ke),function(r){return r.lift(new vS(t,e))}}var vS=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new yS(e,this.dueTime,this.scheduler))},t}(),yS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_S,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(k);function _S(t){t.debouncedNext()}function On(t){return t===void 0&&(t=null),function(e){return e.lift(new wS(t))}}var wS=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new SS(e,this.defaultValue))},t}(),SS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(k);function Zh(t){return t instanceof Date&&!isNaN(+t)}function ES(t,e){e===void 0&&(e=ke);var r=Zh(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new CS(n,e))}}var CS=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new IS(e,this.delay,this.scheduler))},t}(),IS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new RS(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(vt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(vt.createComplete()),this.unsubscribe()},e}(k),RS=function(){function t(e,r){this.time=e,this.notification=r}return t}();function xS(t,e){return e?function(r){return new MS(r,e).lift(new mu(t))}:function(r){return r.lift(new mu(t))}}var mu=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new kS(e,this.delayDurationSelector))},t}(),kS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=yt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(nr),MS=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new AS(r,this.source))},e}(B),AS=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(k);function TS(){return function(e){return e.lift(new NS)}}var NS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new OS(e))},t}(),OS=function(t){g(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(k);function LS(t,e){return function(r){return r.lift(new $S(t,e))}}var $S=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new PS(e,this.keySelector,this.flushes))},t}(),PS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(ae(i,new se(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(oe);function Yh(t,e){return function(r){return r.lift(new DS(t,e))}}var DS=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new jS(e,this.compare,this.keySelector))},t}(),jS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(k);function BS(t,e){return Yh(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function rs(t){return t===void 0&&(t=HS),function(e){return e.lift(new FS(t))}}var FS=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new VS(e,this.errorFactory))},t}(),VS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(k);function HS(){return new Tn}function wa(t){return function(e){return t===0?Fr():e.lift(new WS(t))}}var WS=function(){function t(e){if(this.total=e,this.total<0)throw new xr}return t.prototype.call=function(e,r){return r.subscribe(new US(e,this.total))},t}(),US=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(k);function zS(t,e){if(t<0)throw new xr;var r=arguments.length>=2;return function(n){return n.pipe(Lt(function(i,s){return s===t}),wa(1),r?On(e):rs(function(){return new xr}))}}function qS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return hn(r,Fi.apply(void 0,t))}}function GS(t,e){return function(r){return r.lift(new JS(t,e,r))}}var JS=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new QS(e,this.predicate,this.thisArg,this.source))},t}(),QS=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k);function ZS(){return function(t){return t.lift(new YS)}}var YS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new KS(e))},t}(),KS=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(ae(r,new se(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(oe);function Kh(t,e){return e?function(r){return r.pipe(Kh(function(n,i){return wt(t(n,i)).pipe(ze(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new XS(t))}}var XS=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new eE(e,this.project))},t}(),eE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(oe);function tE(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new rE(t,e,r))}}var rE=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new nE(e,this.project,this.concurrent,this.scheduler))},t}(),nE=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(ae(r,new se(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(oe);function iE(t){return function(e){return e.lift(new sE(t))}}var sE=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new oE(e,this.callback))},t}(),oE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ne(n)),i}return e}(k);function aE(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Xh(t,r,!1,e))}}var Xh=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new cE(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),cE=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(k);function uE(t,e){return function(r){return r.lift(new Xh(t,r,!0,e))}}function lE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Lt(function(i,s){return t(i,s,n)}):Nt,wa(1),r?On(e):rs(function(){return new Tn}))}}function hE(){return function(e){return e.lift(new fE)}}var fE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dE(e))},t}(),dE=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(k);function pE(){return function(t){return t.lift(new gE)}}var gE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new bE(e))},t}(),bE=function(t){g(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k);function ui(t){return function(r){return t===0?Fr():r.lift(new mE(t))}}var mE=function(){function t(e){if(this.total=e,this.total<0)throw new xr}return t.prototype.call=function(e,r){return r.subscribe(new vE(e,this.total))},t}(),vE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(k);function yE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Lt(function(i,s){return t(i,s,n)}):Nt,ui(1),r?On(e):rs(function(){return new Tn}))}}function _E(t){return function(e){return e.lift(new wE(t))}}var wE=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new SE(e,this.value))},t}(),SE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(k);function EE(){return function(e){return e.lift(new CE)}}var CE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new IE(e))},t}(),IE=function(t){g(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(vt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(vt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(vt.createComplete()),r.complete()},e}(k);function li(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new RE(t,e,r))}}var RE=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new xE(e,this.accumulator,this.seed,this.hasSeed))},t}(),xE=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(k);function ns(t,e){return arguments.length>=2?function(n){return so(li(t,e),ui(1),On(e))(n)}:function(n){return so(li(function(i,s,o){return t(i,s,o+1)}),ui(1))(n)}}function kE(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return ns(e)}function ME(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Eh.apply(void 0,[r].concat(t)))}}function AE(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Zt(function(){return t},e,r):(typeof e=="number"&&(r=e),Zt(function(){return t},r))}function TE(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new NE(t,e,r))}}var NE=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new OE(e,this.accumulator,this.seed,this.concurrent))},t}(),OE=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(oe);function LE(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return ns(e)}function Yt(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new $E(i,e));var s=Object.create(n,f1);return s.source=n,s.subjectFactory=i,s}}var $E=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function PE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&xe(t[0])&&(t=t[0]),function(r){return r.lift(new DE(t))}}var DE=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new jE(e,this.nextSources))},t}(),jE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(oe);function BE(){return function(t){return t.lift(new FE)}}var FE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new VE(e))},t}(),VE=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(k);function HE(t,e){return function(r){return[Lt(t,e)(r),Lt(Ih(t,e))(r)]}}function WE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ze(UE(t,r))(n)}}function UE(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function zE(t){return t?Yt(function(){return new me},t):Yt(new me)}function qE(t){return function(e){return Yt(new ih(t))(e)}}function GE(){return function(t){return Yt(new Vr)(t)}}function JE(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new sa(t,e,n);return function(o){return Yt(function(){return s},i)(o)}}function QE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&xe(t[0])&&(t=t[0]),n.lift.call(Rh.apply(void 0,[n].concat(t)))}}function ZE(t){return t===void 0&&(t=-1),function(e){return t===0?Fr():t<0?e.lift(new vu(-1,e)):e.lift(new vu(t-1,e))}}var vu=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new YE(e,this.count,this.source))},t}(),YE=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(k);function KE(t){return function(e){return e.lift(new XE(t))}}var XE=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new e2(e,this.notifier,r))},t}(),e2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new me;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=ae(r,new se(this))},e}(oe);function t2(t){return t===void 0&&(t=-1),function(e){return e.lift(new r2(t,e))}}var r2=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new n2(e,this.count,this.source))},t}(),n2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(k);function i2(t){return function(e){return e.lift(new s2(t,e))}}var s2=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new o2(e,this.notifier,this.source))},t}(),o2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new me;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=ae(i,new se(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(oe);function a2(t){return function(e){return e.lift(new c2(t))}}var c2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new u2(e),i=r.subscribe(n);return i.add(ae(this.notifier,new se(n))),i},t}(),u2=function(t){g(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(oe);function l2(t,e){return e===void 0&&(e=ke),function(r){return r.lift(new h2(t,e))}}var h2=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new f2(e,this.period,this.scheduler))},t}(),f2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(d2,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(k);function d2(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function p2(t,e){return function(r){return r.lift(new g2(t,e))}}var g2=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new b2(e,this.compareTo,this.comparator))},t}(),b2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new m2(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(k),m2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(k);function v2(){return new me}function y2(){return function(t){return ra()(Yt(v2)(t))}}function _2(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(w2(n))}}function w2(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,h=!1,l=!1;return function(d){c++;var p;!a||h?(h=!1,a=new sa(r,i,o),p=a.subscribe(this),u=d.subscribe({next:function(E){a.next(E)},error:function(E){h=!0,a.error(E)},complete:function(){l=!0,u=void 0,a.complete()}}),l&&(u=void 0)):p=a.subscribe(this),this.add(function(){c--,p.unsubscribe(),p=void 0,u&&!l&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function S2(t){return function(e){return e.lift(new E2(t,e))}}var E2=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new C2(e,this.predicate,this.source))},t}(),C2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Tn)},e}(k);function I2(t){return function(e){return e.lift(new R2(t))}}var R2=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new x2(e,this.total))},t}(),x2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(k);function k2(t){return function(e){return e.lift(new M2(t))}}var M2=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new xr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new k(e)):r.subscribe(new A2(e,this._skipCount))},t}(),A2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(k);function T2(t){return function(e){return e.lift(new N2(t))}}var N2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new O2(e,this.notifier))},t}(),O2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new se(i);i.add(s),i.innerSubscription=s;var o=ae(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(oe);function L2(t){return function(e){return e.lift(new $2(t))}}var $2=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new P2(e,this.predicate))},t}(),P2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(k);function D2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return $e(r)?(t.pop(),function(n){return hn(t,n,r)}):function(n){return hn(t,n)}}var j2=function(t){g(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Kn);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!kr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Kn),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Kn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(B);function B2(t,e){return e===void 0&&(e=0),function(n){return n.lift(new F2(t,e))}}var F2=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new j2(r,this.delay,this.scheduler).subscribe(e)},t}();function fn(t,e){return typeof e=="function"?function(r){return r.pipe(fn(function(n,i){return wt(t(n,i)).pipe(ze(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new V2(t))}}var V2=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new H2(e,this.project))},t}(),H2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new se(this),s=this.destination;s.add(i),this.innerSubscription=ae(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(oe);function W2(){return fn(Nt)}function U2(t,e){return e?fn(function(){return t},e):fn(function(){return t})}function z2(t){return function(e){return e.lift(new q2(t))}}var q2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new G2(e),i=ae(this.notifier,new se(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),G2=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(oe);function J2(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Q2(t,e))}}var Q2=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Z2(e,this.predicate,this.inclusive))},t}(),Z2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(k);function Y2(t,e,r){return function(i){return i.lift(new K2(t,e,r))}}var K2=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new X2(e,this.nextOrObserver,this.error,this.complete))},t}(),X2=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=st,o._tapError=st,o._tapComplete=st,o._tapError=i||st,o._tapComplete=s||st,Ir(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||st,o._tapError=n.error||st,o._tapComplete=n.complete||st),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(k),ef={leading:!0,trailing:!1};function e4(t,e){return e===void 0&&(e=ef),function(r){return r.lift(new t4(t,!!e.leading,!!e.trailing))}}var t4=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new r4(e,this.durationSelector,this.leading,this.trailing))},t}(),r4=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=ae(n,new se(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(oe);function n4(t,e,r){return e===void 0&&(e=ke),r===void 0&&(r=ef),function(n){return n.lift(new i4(t,e,r.leading,r.trailing))}}var i4=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new s4(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),s4=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(o4,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(k);function o4(t){var e=t.subscriber;e.clearThrottle()}function a4(t){return t===void 0&&(t=ke),function(e){return ca(function(){return e.pipe(li(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ze(function(r){var n=r.current,i=r.last,s=r.value;return new c4(s,n-i)}))})}}var c4=function(){function t(e,r){this.value=e,this.interval=r}return t}();function tf(t,e,r){return r===void 0&&(r=ke),function(n){var i=Zh(t),s=i?+t-r.now():Math.abs(t);return n.lift(new u4(s,i,e,r))}}var u4=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new l4(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l4=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(ae(n,new se(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(oe);function h4(t,e){return e===void 0&&(e=ke),tf(t,ia(new dh),e)}function f4(t){return t===void 0&&(t=ke),ze(function(e){return new d4(e,t.now())})}var d4=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function p4(t,e,r){return r===0?[e]:(t.push(e),t)}function g4(){return ns(p4,[])}function b4(t){return function(r){return r.lift(new m4(t))}}var m4=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new v4(e),i=r.subscribe(n);return i.closed||n.add(ae(this.windowBoundaries,new se(n))),i},t}(),v4=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new me,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new me;n.next(i)},e}(oe);function y4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new _4(t,e))}}var _4=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new w4(e,this.windowSize,this.startWindowEvery))},t}(),w4=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new me],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new me;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(k);function S4(t){var e=ke,r=null,n=Number.POSITIVE_INFINITY;return $e(arguments[3])&&(e=arguments[3]),$e(arguments[2])?e=arguments[2]:kr(arguments[2])&&(n=Number(arguments[2])),$e(arguments[1])?e=arguments[1]:kr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new E4(t,r,n,e))}}var E4=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new I4(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),C4=function(t){g(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(me),I4=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(rf,n,u)),a.add(o.schedule(x4,i,h))}else{var l={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(R4,n,l))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new C4;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(k);function R4(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function x4(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(rf,e,c),o.add(a.subscription),o.schedule(t,i)}function rf(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function k4(t,e){return function(r){return r.lift(new M4(t,e))}}var M4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new A4(e,this.openings,this.closingSelector))},t}(),A4=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=yt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var u=new me,h=new ne,l={window:u,subscription:h};this.contexts.push(l);var f=yt(this,a,l);f.closed?this.closeWindow(this.contexts.length-1):(f.context=l,h.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(nr);function T4(t){return function(r){return r.lift(new N4(t))}}var N4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new O4(e,this.closingSelector))},t}(),O4=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new me;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=yt(this,s))},e}(nr);function L4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new $4(i,n))}}var $4=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new P4(e,this.observables,this.project))},t}(),P4=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(yt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(nr);function D4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(kh.apply(void 0,[n].concat(t)))}}function j4(t){return function(e){return e.lift(new Mh(t))}}const B4=Object.freeze(Object.defineProperty({__proto__:null,audit:Gh,auditTime:Bw,buffer:Fw,bufferCount:Ww,bufferTime:Gw,bufferToggle:Kw,bufferWhen:tS,catchError:iS,combineAll:aS,combineLatest:cS,concat:uS,concatAll:yh,concatMap:Qh,concatMapTo:lS,count:hS,debounce:pS,debounceTime:mS,defaultIfEmpty:On,delay:ES,delayWhen:xS,dematerialize:TS,distinct:LS,distinctUntilChanged:Yh,distinctUntilKeyChanged:BS,elementAt:zS,endWith:qS,every:GS,exhaust:ZS,exhaustMap:Kh,expand:tE,filter:Lt,finalize:iE,find:aE,findIndex:uE,first:lE,flatMap:o_,groupBy:p1,ignoreElements:hE,isEmpty:pE,last:yE,map:ze,mapTo:_E,materialize:EE,max:kE,merge:ME,mergeAll:aa,mergeMap:Zt,mergeMapTo:AE,mergeScan:TE,min:LE,multicast:Yt,observeOn:C1,onErrorResumeNext:PE,pairwise:BE,partition:HE,pluck:WE,publish:zE,publishBehavior:qE,publishLast:GE,publishReplay:JE,race:QE,reduce:ns,refCount:ra,repeat:ZE,repeatWhen:KE,retry:t2,retryWhen:i2,sample:a2,sampleTime:l2,scan:li,sequenceEqual:p2,share:y2,shareReplay:_2,single:S2,skip:I2,skipLast:k2,skipUntil:T2,skipWhile:L2,startWith:D2,subscribeOn:B2,switchAll:W2,switchMap:fn,switchMapTo:U2,take:wa,takeLast:ui,takeUntil:z2,takeWhile:J2,tap:Y2,throttle:e4,throttleTime:n4,throwIfEmpty:rs,timeInterval:a4,timeout:h4,timeoutWith:tf,timestamp:f4,toArray:g4,window:b4,windowCount:y4,windowTime:S4,windowToggle:k4,windowWhen:T4,withLatestFrom:L4,zip:D4,zipAll:j4},Symbol.toStringTag,{value:"Module"})),Sa=Kt(B4);var is={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ClientMessagePublishEvent=Ve.ClientMessageSetSessionConfig=Ve.ClientMessageGetSessionConfig=Ve.ClientMessageIsLinked=Ve.ClientMessageHostSession=void 0;function F4(t){return Object.assign({type:"HostSession"},t)}Ve.ClientMessageHostSession=F4;function V4(t){return Object.assign({type:"IsLinked"},t)}Ve.ClientMessageIsLinked=V4;function H4(t){return Object.assign({type:"GetSessionConfig"},t)}Ve.ClientMessageGetSessionConfig=H4;function W4(t){return Object.assign({type:"SetSessionConfig"},t)}Ve.ClientMessageSetSessionConfig=W4;function U4(t){return Object.assign({type:"PublishEvent"},t)}Ve.ClientMessagePublishEvent=U4;var nf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Vi,r=Sa;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(nf);var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.isServerMessageFail=void 0;function z4(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ss.isServerMessageFail=z4;Object.defineProperty(is,"__esModule",{value:!0});is.WalletSDKConnection=void 0;const Ge=Vi,W=Sa,Jr=Lr,cr=pn,Qr=Ve,Zr=Nr,Jn=nf,Hs=ss,yu=1e4,q4=6e4;class G4{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ge.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,cr.IntNumber)(1),this.connectedSubject=new Ge.BehaviorSubject(!1),this.linkedSubject=new Ge.BehaviorSubject(!1),this.sessionConfigSubject=new Ge.ReplaySubject(1);const o=new Jn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,W.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Zr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Jr.Session.hash(e)})}),(0,W.skip)(1),(0,W.filter)(a=>a===Jn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,W.delay)(5e3),(0,W.filter)(a=>!this.destroyed),(0,W.flatMap)(a=>o.connect()),(0,W.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,W.skip)(2),(0,W.switchMap)(a=>(0,Ge.iif)(()=>a===Jn.ConnectionState.CONNECTED,this.authenticate().pipe((0,W.tap)(c=>this.sendIsLinked()),(0,W.tap)(c=>this.sendGetSessionConfig()),(0,W.map)(c=>!0)),(0,Ge.of)(!1))),(0,W.distinctUntilChanged)(),(0,W.catchError)(a=>(0,Ge.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,W.skip)(1),(0,W.switchMap)(a=>(0,Ge.iif)(()=>a===Jn.ConnectionState.CONNECTED,(0,Ge.timer)(0,yu)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,W.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,W.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Zr.EVENTS.LINKED,{sessionIdHash:Jr.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,W.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Zr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Jr.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Zr.EVENTS.STARTED_CONNECTING,{sessionIdHash:Jr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Zr.EVENTS.DISCONNECTED,{sessionIdHash:Jr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,W.filter)(e=>e),(0,W.take)(1),(0,W.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,W.filter)(e=>e),(0,W.take)(1),(0,W.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,W.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,W.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Qr.ClientMessageSetSessionConfig)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,W.flatMap)(i=>this.makeRequest(n)),(0,W.map)(i=>{if((0,Hs.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Qr.ClientMessagePublishEvent)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,W.flatMap)(s=>this.makeRequest(i)),(0,W.map)(s=>{if((0,Hs.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>yu*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=q4){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ge.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,W.timeoutWith)(r,(0,Ge.throwError)(new Error(`request ${n} timed out`))),(0,W.filter)(i=>i.id===n),(0,W.take)(1))}authenticate(){const e=(0,Qr.ClientMessageHostSession)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,W.map)(r=>{if((0,Hs.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Qr.ClientMessageIsLinked)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Qr.ClientMessageGetSessionConfig)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}is.WalletSDKConnection=G4;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.decrypt=Ar.encrypt=void 0;const hi=I;async function J4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,hi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),h=new Uint8Array(c),l=new Uint8Array([...r,...u,...h]);return(0,hi.uint8ArrayToHex)(l)}Ar.encrypt=J4;function Q4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,hi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,hi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const l=await window.crypto.subtle.decrypt(h,i,u),f=new TextDecoder;r(f.decode(l))}catch(l){n(l)}})()})}Ar.decrypt=Q4;var os={},as={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(as);Object.defineProperty(os,"__esModule",{value:!0});os.Web3RequestCanceledMessage=void 0;const Z4=as;function Y4(t){return{type:Z4.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}os.Web3RequestCanceledMessage=Y4;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.Web3RequestMessage=void 0;const K4=as;function X4(t){return Object.assign({type:K4.RelayMessageType.WEB3_REQUEST},t)}cs.Web3RequestMessage=X4;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isWeb3ResponseMessage=Tr.Web3ResponseMessage=void 0;const sf=as;function e5(t){return Object.assign({type:sf.RelayMessageType.WEB3_RESPONSE},t)}Tr.Web3ResponseMessage=e5;function t5(t){return t&&t.type===sf.RelayMessageType.WEB3_RESPONSE}Tr.isWeb3ResponseMessage=t5;var r5=x&&x.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n5=x&&x.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),of=x&&x.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},i5=x&&x.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r5(e,t,r);return n5(e,t),e},s5=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});es.WalletSDKRelay=void 0;const af=s5(ts),jt=Vi,fe=Sa,Se=Nr,o5=is,ur=dn,a5=pn,X=I,Et=i5(Ar),Ct=Lr,Qn=Ye,ve=mi,c5=os,u5=cs,Be=K,Ae=Tr;class Ze extends Qn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new jt.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new jt.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ct.Session.load(this.storage)||new Ct.Session(this.storage).save(),r=new o5.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,fe.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,fe.skip)(1),(0,fe.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Qn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Se.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,fe.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,fe.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,fe.mergeMap)(i=>Et.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Qn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,fe.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,fe.mergeMap)(i=>Et.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Qn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,fe.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,fe.mergeMap)(i=>(0,jt.zip)(Et.decrypt(i.metadata.ChainId,e.secret),Et.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,fe.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,fe.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,fe.mergeMap)(i=>Et.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Ze.accountRequestCallbackIds.size>0&&(Array.from(Ze.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ae.Web3ResponseMessage)({id:s,response:(0,Be.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Ze.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,fe.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,fe.mergeMap)(i=>Et.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,fe.timeout)(1e3),(0,fe.catchError)(e=>(0,jt.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Se.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ct.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ct.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new jt.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ve.Web3Method.signEthereumMessage,params:{message:(0,X.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ve.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,X.hexStringFromBuffer)(e,!0),signature:(0,X.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ve.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,X.bigIntStringFromBN)(e.weiValue),data:(0,X.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,X.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,X.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,X.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,X.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ve.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,X.bigIntStringFromBN)(e.weiValue),data:(0,X.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,X.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,X.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,X.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,X.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ve.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,X.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ve.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,X.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ve.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,X.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,u5.Web3RequestMessage)({id:e,request:r}),s=Ct.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Se.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ct.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Se.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ct.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,c5.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new jt.Observable(s=>{Et.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,fe.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,jt.from)(Et.decrypt(e.data,this.session.secret)).pipe((0,fe.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ae.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Be.isRequestEthereumAccountsResponse)(n)){Ze.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ze.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n?.message)!==null&&s!==void 0?s:(0,ur.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ve.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,X.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,X.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=h=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:r,response:(0,Be.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=ur.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}Ze.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ve.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,X.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:n,response:(0,Be.SelectProviderResponse)(a5.ProviderType.Unselected)}))},u=h=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:n,response:(0,Be.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ve.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,X.randomBytesHex)(8),h=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const l=new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,w=>{if(c?.(),w.errorMessage)return d(new Error(w.errorMessage));f(w)});const p=w=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Be.WatchAssetReponse)(!1)}))},E=()=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Be.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:E,onCancel:p,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:h,promise:l}}addEthereumChain(e,r,n,i,s,o){const a={method:ve.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,X.randomBytesHex)(8),h=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,w=>{if(c?.(),w.errorMessage)return d(new Error(w.errorMessage));f(w)});const p=w=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Be.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},E=w=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Be.AddEthereumChainResponse)({isApproved:!0,rpcUrl:w})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:p,onApprove:E,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:ve.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,X.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,l=>{if((0,Be.isErrorResponse)(l)&&l.errorCode)return c(ur.standardErrors.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(l.errorMessage)return c(new Error(l.errorMessage));a(l)});const u=l=>{var f;if(l){const d=(f=(0,ur.getErrorCode)(l))!==null&&f!==void 0?f:ur.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ve.Web3Method.switchEthereumChain,l instanceof Error?l:ur.standardErrors.provider.unsupportedChain(e),d)}else this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:i,response:(0,Be.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=l=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:i,response:(0,Be.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:l})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ct.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ve.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ve.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ve.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ve.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ze.accountRequestCallbackIds=new Set;of([af.default],Ze.prototype,"resetAndReload",null);of([af.default],Ze.prototype,"handleIncomingEvent",null);es.WalletSDKRelay=Ze;var us={};Object.defineProperty(us,"__esModule",{value:!0});us.WalletSDKRelayEventManager=void 0;const l5=I;class h5{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,l5.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}us.WalletSDKRelayEventManager=h5;Object.defineProperty(on,"__esModule",{value:!0});on.CoinbaseWalletSDK=void 0;const f5=di,d5=pi,p5=gi,g5=vr,b5=Di,m5=es,v5=us,y5=I,cf=Or;class ls{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||d5.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new b5.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new p5.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",ls.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new v5.WalletSDKRelayEventManager,this._relay=new m5.WalletSDKRelay({linkAPIUrl:s,version:cf.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new g5.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,y5.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,f5.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}on.CoinbaseWalletSDK=ls;ls.VERSION=cf.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=on,r=vr;var n=on;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=vr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(po);const _5=uf(po),O5=vf({__proto__:null,default:_5},[po]);export{O5 as i};
